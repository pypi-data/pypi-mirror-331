<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <style>
      body {
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="foursquare-map-test-div"></div>
    <script type="module">
      import { createMap } from 'https://unpkg.com/@foursquare/map-sdk@latest/dist/index.js';
      const element = document.getElementById('foursquare-map-test-div');

      function htmlDecode(input) {
        const doc = new DOMParser().parseFromString(input, "text/html");
        return doc.documentElement.textContent;
      }

      const map = await createMap({
        container: element,
        apiKey: JSON.parse(htmlDecode("&#34;&#34;")),
        initialState: JSON.parse(htmlDecode("{}")),
        style: JSON.parse(htmlDecode("{&#34;height&#34;: &#34;100%&#34;, &#34;width&#34;: &#34;100%&#34;}")),
        basemaps: JSON.parse(htmlDecode("{}")),
        urls: JSON.parse(htmlDecode("{}"))
      });

      const actions = JSON.parse(htmlDecode("[{&#34;args&#34;: [{&#34;type&#34;: &#34;local&#34;, &#34;label&#34;: &#34;Earthquakes&#34;, &#34;data&#34;: &#34;,DateTime,Latitude,Longitude,Depth,Magnitude,MagType,NbStations,Gap,Distance,RMS,Source,EventID\\n0,1967/08/01 10:33:50.47,36.08,-121.07083,80.339,2.5,Mx,10,292,42,0.25,NCSN,1000872\\n1,1967/08/02 02:49:12.55,35.63433,-120.75716,3.98,2.6,Mx,9,322,108,0.24,NCSN,1000887\\n2,1967/08/03 05:55:26.73,36.37967,-121.0085,39.609,2.7,Mx,10,298,21,0.41,NCSN,1000912\\n&#34;}], &#34;options&#34;: {&#34;autoCreateLayers&#34;: true, &#34;centerMap&#34;: true}, &#34;funcName&#34;: &#34;addDataset&#34;}, {&#34;args&#34;: [{&#34;type&#34;: &#34;local&#34;, &#34;label&#34;: &#34;More Earthquakes&#34;, &#34;data&#34;: {&#34;type&#34;: &#34;FeatureCollection&#34;, &#34;features&#34;: [{&#34;id&#34;: &#34;0&#34;, &#34;type&#34;: &#34;Feature&#34;, &#34;properties&#34;: {&#34;DateTime&#34;: &#34;1967/08/03 06:57:01.25&#34;, &#34;Depth&#34;: 40.159, &#34;Distance&#34;: 19, &#34;EventID&#34;: 1000916, &#34;Gap&#34;: 293, &#34;MagType&#34;: &#34;Mx&#34;, &#34;Magnitude&#34;: 2.7, &#34;NbStations&#34;: 10, &#34;RMS&#34;: 0.46, &#34;Source&#34;: &#34;NCSN&#34;}, &#34;geometry&#34;: {&#34;type&#34;: &#34;Point&#34;, &#34;coordinates&#34;: [-121.01667, 36.3955]}}, {&#34;id&#34;: &#34;1&#34;, &#34;type&#34;: &#34;Feature&#34;, &#34;properties&#34;: {&#34;DateTime&#34;: &#34;1967/08/03 20:21:26.52&#34;, &#34;Depth&#34;: 5.945, &#34;Distance&#34;: 6, &#34;EventID&#34;: 1000926, &#34;Gap&#34;: 132, &#34;MagType&#34;: &#34;Mx&#34;, &#34;Magnitude&#34;: 2.6, &#34;NbStations&#34;: 10, &#34;RMS&#34;: 0.07, &#34;Source&#34;: &#34;NCSN&#34;}, &#34;geometry&#34;: {&#34;type&#34;: &#34;Point&#34;, &#34;coordinates&#34;: [-121.17216, 36.5435]}}, {&#34;id&#34;: &#34;2&#34;, &#34;type&#34;: &#34;Feature&#34;, &#34;properties&#34;: {&#34;DateTime&#34;: &#34;1967/08/09 04:53:59.73&#34;, &#34;Depth&#34;: 4.06, &#34;Distance&#34;: 131, &#34;EventID&#34;: 1000979, &#34;Gap&#34;: 331, &#34;MagType&#34;: &#34;Mx&#34;, &#34;Magnitude&#34;: 2.6, &#34;NbStations&#34;: 7, &#34;RMS&#34;: 0.26, &#34;Source&#34;: &#34;NCSN&#34;}, &#34;geometry&#34;: {&#34;type&#34;: &#34;Point&#34;, &#34;coordinates&#34;: [-120.58783, 35.4015]}}]}}], &#34;options&#34;: {&#34;autoCreateLayers&#34;: true, &#34;centerMap&#34;: true}, &#34;funcName&#34;: &#34;addDataset&#34;}, {&#34;args&#34;: [{&#34;zoom&#34;: 7}], &#34;options&#34;: {&#34;index&#34;: 0}, &#34;funcName&#34;: &#34;setView&#34;}]"));
      actions.forEach((action) => {
        const funcName = action["funcName"];
        const args = action["args"];
        const options = action["options"];
        map[funcName](...args, options);
      })
    </script>
  </body>
</html>
