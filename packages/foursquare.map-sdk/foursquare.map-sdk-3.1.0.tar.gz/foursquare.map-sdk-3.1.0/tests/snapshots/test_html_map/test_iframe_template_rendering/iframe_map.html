<iframe
    height="500"
    width="100%"
    srcdoc="&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;style&gt;
      body {
        margin: 0;
      }
    &lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;foursquare-map-test-div&quot;&gt;&lt;/div&gt;
    &lt;script type=&quot;module&quot;&gt;
      import { createMap } from &#x27;https://unpkg.com/@foursquare/map-sdk@latest/dist/index.js&#x27;;
      const element = document.getElementById(&#x27;foursquare-map-test-div&#x27;);

      function htmlDecode(input) {
        const doc = new DOMParser().parseFromString(input, &quot;text/html&quot;);
        return doc.documentElement.textContent;
      }

      const map = await createMap({
        container: element,
        apiKey: JSON.parse(htmlDecode(&quot;&amp;#34;&amp;#34;&quot;)),
        initialState: JSON.parse(htmlDecode(&quot;{}&quot;)),
        style: JSON.parse(htmlDecode(&quot;{&amp;#34;height&amp;#34;: 500, &amp;#34;width&amp;#34;: &amp;#34;100%&amp;#34;}&quot;)),
        basemaps: JSON.parse(htmlDecode(&quot;{}&quot;)),
        urls: JSON.parse(htmlDecode(&quot;{}&quot;))
      });

      const actions = JSON.parse(htmlDecode(&quot;[{&amp;#34;args&amp;#34;: [{&amp;#34;type&amp;#34;: &amp;#34;local&amp;#34;, &amp;#34;label&amp;#34;: &amp;#34;Earthquakes&amp;#34;, &amp;#34;data&amp;#34;: &amp;#34;,DateTime,Latitude,Longitude,Depth,Magnitude,MagType,NbStations,Gap,Distance,RMS,Source,EventID\\n0,1967/08/01 10:33:50.47,36.08,-121.07083,80.339,2.5,Mx,10,292,42,0.25,NCSN,1000872\\n1,1967/08/02 02:49:12.55,35.63433,-120.75716,3.98,2.6,Mx,9,322,108,0.24,NCSN,1000887\\n2,1967/08/03 05:55:26.73,36.37967,-121.0085,39.609,2.7,Mx,10,298,21,0.41,NCSN,1000912\\n&amp;#34;}], &amp;#34;options&amp;#34;: {&amp;#34;autoCreateLayers&amp;#34;: true, &amp;#34;centerMap&amp;#34;: true}, &amp;#34;funcName&amp;#34;: &amp;#34;addDataset&amp;#34;}, {&amp;#34;args&amp;#34;: [{&amp;#34;type&amp;#34;: &amp;#34;local&amp;#34;, &amp;#34;label&amp;#34;: &amp;#34;More Earthquakes&amp;#34;, &amp;#34;data&amp;#34;: {&amp;#34;type&amp;#34;: &amp;#34;FeatureCollection&amp;#34;, &amp;#34;features&amp;#34;: [{&amp;#34;id&amp;#34;: &amp;#34;0&amp;#34;, &amp;#34;type&amp;#34;: &amp;#34;Feature&amp;#34;, &amp;#34;properties&amp;#34;: {&amp;#34;DateTime&amp;#34;: &amp;#34;1967/08/03 06:57:01.25&amp;#34;, &amp;#34;Depth&amp;#34;: 40.159, &amp;#34;Distance&amp;#34;: 19, &amp;#34;EventID&amp;#34;: 1000916, &amp;#34;Gap&amp;#34;: 293, &amp;#34;MagType&amp;#34;: &amp;#34;Mx&amp;#34;, &amp;#34;Magnitude&amp;#34;: 2.7, &amp;#34;NbStations&amp;#34;: 10, &amp;#34;RMS&amp;#34;: 0.46, &amp;#34;Source&amp;#34;: &amp;#34;NCSN&amp;#34;}, &amp;#34;geometry&amp;#34;: {&amp;#34;type&amp;#34;: &amp;#34;Point&amp;#34;, &amp;#34;coordinates&amp;#34;: [-121.01667, 36.3955]}}, {&amp;#34;id&amp;#34;: &amp;#34;1&amp;#34;, &amp;#34;type&amp;#34;: &amp;#34;Feature&amp;#34;, &amp;#34;properties&amp;#34;: {&amp;#34;DateTime&amp;#34;: &amp;#34;1967/08/03 20:21:26.52&amp;#34;, &amp;#34;Depth&amp;#34;: 5.945, &amp;#34;Distance&amp;#34;: 6, &amp;#34;EventID&amp;#34;: 1000926, &amp;#34;Gap&amp;#34;: 132, &amp;#34;MagType&amp;#34;: &amp;#34;Mx&amp;#34;, &amp;#34;Magnitude&amp;#34;: 2.6, &amp;#34;NbStations&amp;#34;: 10, &amp;#34;RMS&amp;#34;: 0.07, &amp;#34;Source&amp;#34;: &amp;#34;NCSN&amp;#34;}, &amp;#34;geometry&amp;#34;: {&amp;#34;type&amp;#34;: &amp;#34;Point&amp;#34;, &amp;#34;coordinates&amp;#34;: [-121.17216, 36.5435]}}, {&amp;#34;id&amp;#34;: &amp;#34;2&amp;#34;, &amp;#34;type&amp;#34;: &amp;#34;Feature&amp;#34;, &amp;#34;properties&amp;#34;: {&amp;#34;DateTime&amp;#34;: &amp;#34;1967/08/09 04:53:59.73&amp;#34;, &amp;#34;Depth&amp;#34;: 4.06, &amp;#34;Distance&amp;#34;: 131, &amp;#34;EventID&amp;#34;: 1000979, &amp;#34;Gap&amp;#34;: 331, &amp;#34;MagType&amp;#34;: &amp;#34;Mx&amp;#34;, &amp;#34;Magnitude&amp;#34;: 2.6, &amp;#34;NbStations&amp;#34;: 7, &amp;#34;RMS&amp;#34;: 0.26, &amp;#34;Source&amp;#34;: &amp;#34;NCSN&amp;#34;}, &amp;#34;geometry&amp;#34;: {&amp;#34;type&amp;#34;: &amp;#34;Point&amp;#34;, &amp;#34;coordinates&amp;#34;: [-120.58783, 35.4015]}}]}}], &amp;#34;options&amp;#34;: {&amp;#34;autoCreateLayers&amp;#34;: true, &amp;#34;centerMap&amp;#34;: true}, &amp;#34;funcName&amp;#34;: &amp;#34;addDataset&amp;#34;}, {&amp;#34;args&amp;#34;: [{&amp;#34;zoom&amp;#34;: 7}], &amp;#34;options&amp;#34;: {&amp;#34;index&amp;#34;: 0}, &amp;#34;funcName&amp;#34;: &amp;#34;setView&amp;#34;}]&quot;));
      actions.forEach((action) =&gt; {
        const funcName = action[&quot;funcName&quot;];
        const args = action[&quot;args&quot;];
        const options = action[&quot;options&quot;];
        map[funcName](...args, options);
      })
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
"
></iframe>
