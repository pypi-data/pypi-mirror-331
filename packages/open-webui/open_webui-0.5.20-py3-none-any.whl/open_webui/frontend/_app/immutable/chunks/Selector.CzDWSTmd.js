import{s as mt,D as Le,E as He,a as T,d as h,f as v,i as A,g as k,n as pe,y as ht,A as pt,j as me,p as vt,F as bt,q as wt,k as L,o as H,e as V,c as C,r as kt,v as $t,w as yt,x as Et,Q as ve,t as R,b as Y,h as ee,B as Ze,u as fe,H as Dt,N as be,V as qe}from"./scheduler.COi8bgmk.js";import{S as _t,i as gt,f as Vt,b as J,d as Q,m as K,t as y,a as O,e as X,g as te,c as le}from"./index.Bs8QJi7D.js";import{e as re}from"./each.BJyh__76.js";import"./updater.Bk3MSEsf.js";import{M as Ct,a as Mt,b as It}from"./menu-trigger.C9rldVBO.js";import{m as We}from"./marked.esm._0_gBwjO.js";import{F as Tt}from"./fuse.CU2r43ac.js";import{f as Nt}from"./index.BFuekP1B.js";import{C as zt}from"./ChevronDown.C_Siw547.js";import{C as Ot}from"./Check.CyD3fXtR.js";import{S as St}from"./Search.D2GUIzUF.js";import{g as At,p as Bt,d as Pt}from"./index.ZYsCctAW.js";import{M as he,a as jt,c as Lt,i as Ht,u as Zt,l as Ue,m as qt}from"./index.DSPozSsn.js";import{t as ie}from"./Toaster.svelte_svelte_type_style_lang.DWJS6NQk.js";import{s as Wt,f as Fe}from"./index.DSDPpkge.js";import{g as Ut}from"./index.x0u_e0k-.js";import{T as ue}from"./Tooltip.B-3Et9rk.js";import{S as Ft}from"./Switch.CLaBGINu.js";import{g as Gt}from"./entry.CDFy9rnY.js";function Rt(r){let e,t;return{c(){e=Le("svg"),t=Le("path"),this.h()},l(l){e=He(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=T(e);t=He(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),T(t).forEach(h),a.forEach(h),this.h()},h(){v(t,"stroke-linecap","round"),v(t,"stroke-linejoin","round"),v(t,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"fill","none"),v(e,"viewBox","0 0 24 24"),v(e,"stroke-width",r[1]),v(e,"stroke","currentColor"),v(e,"class",r[0])},m(l,a){A(l,e,a),k(e,t)},p(l,[a]){a&2&&v(e,"stroke-width",l[1]),a&1&&v(e,"class",l[0])},i:pe,o:pe,d(l){l&&h(e)}}}function Yt(r,e,t){let{className:l="size-4"}=e,{strokeWidth:a="1.5"}=e;return r.$$set=s=>{"className"in s&&t(0,l=s.className),"strokeWidth"in s&&t(1,a=s.strokeWidth)},[l,a]}class Jt extends _t{constructor(e){super(),gt(this,e,Yt,Rt,mt,{className:0,strokeWidth:1})}}function Ge(r,e,t){const l=r.slice();return l[43]=e[t],l}function Re(r,e,t){const l=r.slice();return l[46]=e[t],l[48]=t,l}function Ye(r,e,t){const l=r.slice();return l[49]=e[t],l}function Je(r,e,t){const l=r.slice();return l[49]=e[t],l}function Qe(r,e,t){const l=r.slice();return l[49]=e[t],l}function Qt(r){let e;return{c(){e=R(r[2])},l(t){e=Y(t,r[2])},m(t,l){A(t,e,l)},p(t,l){l[0]&4&&ee(e,t[2])},d(t){t&&h(e)}}}function Kt(r){let e=r[13].label+"",t;return{c(){t=R(e)},l(l){t=Y(l,e)},m(l,a){A(l,t,a)},p(l,a){a[0]&8192&&e!==(e=l[13].label+"")&&ee(t,e)},d(l){l&&h(t)}}}function Xt(r){let e,t,l,a,s;function n(d,c){return d[13]?Kt:Qt}let f=n(r),o=f(r);return l=new zt({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=V("div"),o.c(),t=L(),J(l.$$.fragment),this.h()},l(d){e=C(d,"DIV",{class:!0});var c=T(e);o.l(c),t=H(c),Q(l.$$.fragment,c),c.forEach(h),this.h()},h(){v(e,"class",a="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+r[7]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden")},m(d,c){A(d,e,c),o.m(e,null),k(e,t),K(l,e,null),s=!0},p(d,c){f===(f=n(d))&&o?o.p(d,c):(o.d(1),o=f(d),o&&(o.c(),o.m(e,t))),(!s||c[0]&128&&a!==(a="flex w-full text-left px-0.5 outline-hidden bg-transparent truncate "+d[7]+" justify-between font-medium placeholder-gray-400 focus:outline-hidden"))&&v(e,"class",a)},i(d){s||(y(l.$$.fragment,d),s=!0)},o(d){O(l.$$.fragment,d),s=!1},d(d){d&&h(e),o.d(),X(l)}}}function Ke(r){let e,t,l,a,s,n,f;return t=new St({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=V("div"),J(t.$$.fragment),l=L(),a=V("input"),this.h()},l(o){e=C(o,"DIV",{class:!0});var d=T(e);Q(t.$$.fragment,d),l=H(d),a=C(d,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0}),d.forEach(h),this.h()},h(){v(a,"id","model-search-input"),v(a,"class","w-full text-sm bg-transparent outline-hidden"),v(a,"placeholder",r[4]),v(a,"autocomplete","off"),v(e,"class","flex items-center gap-2.5 px-5 mt-3.5 mb-1.5")},m(o,d){A(o,e,d),K(t,e,null),k(e,l),k(e,a),Ze(a,r[8]),s=!0,n||(f=[fe(a,"input",r[27]),fe(a,"keydown",r[28])],n=!0)},p(o,d){(!s||d[0]&16)&&v(a,"placeholder",o[4]),d[0]&256&&a.value!==o[8]&&Ze(a,o[8])},i(o){s||(y(t.$$.fragment,o),s=!0)},o(o){O(t.$$.fragment,o),s=!1},d(o){o&&h(e),X(t),n=!1,Dt(f)}}}function Xe(r){let e,t,l,a=r[18].t("All")+"",s,n,f,o,d,c=re(r[12]),p=[];for(let _=0;_<c.length;_+=1)p[_]=xe(Qe(r,c,_));return{c(){e=V("div"),t=V("div"),l=V("button"),s=R(a),f=L();for(let _=0;_<p.length;_+=1)p[_].c();this.h()},l(_){e=C(_,"DIV",{class:!0});var $=T(e);t=C($,"DIV",{class:!0});var w=T(t);l=C(w,"BUTTON",{class:!0});var S=T(l);s=Y(S,a),S.forEach(h),f=H(w);for(let b=0;b<p.length;b+=1)p[b].l(w);w.forEach(h),$.forEach(h),this.h()},h(){v(l,"class",n="min-w-fit outline-none p-1.5 "+(r[9]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),v(t,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent px-1.5 pb-0.5"),v(e,"class","flex w-full sticky")},m(_,$){A(_,e,$),k(e,t),k(t,l),k(l,s),k(t,f);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(t,null);r[31](t),o||(d=fe(l,"click",r[29]),o=!0)},p(_,$){if($[0]&262144&&a!==(a=_[18].t("All")+"")&&ee(s,a),$[0]&512&&n!==(n="min-w-fit outline-none p-1.5 "+(_[9]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&v(l,"class",n),$[0]&4608){c=re(_[12]);let w;for(w=0;w<c.length;w+=1){const S=Qe(_,c,w);p[w]?p[w].p(S,$):(p[w]=xe(S),p[w].c(),p[w].m(t,null))}for(;w<p.length;w+=1)p[w].d(1);p.length=c.length}},d(_){_&&h(e),ve(p,_),r[31](null),o=!1,d()}}}function xe(r){let e,t=r[49]+"",l,a,s,n,f;function o(){return r[30](r[49])}return{c(){e=V("button"),l=R(t),a=L(),this.h()},l(d){e=C(d,"BUTTON",{class:!0});var c=T(e);l=Y(c,t),a=H(c),c.forEach(h),this.h()},h(){v(e,"class",s="min-w-fit outline-none p-1.5 "+(r[9]===r[49]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")},m(d,c){A(d,e,c),k(e,l),k(e,a),n||(f=fe(e,"click",o),n=!0)},p(d,c){r=d,c[0]&4096&&t!==(t=r[49]+"")&&ee(l,t),c[0]&4608&&s!==(s="min-w-fit outline-none p-1.5 "+(r[9]===r[49]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&v(e,"class",s)},d(d){d&&h(e),n=!1,f()}}}function et(r){let e,t,l=r[18].t("No results found")+"",a;return{c(){e=V("div"),t=V("div"),a=R(l),this.h()},l(s){e=C(s,"DIV",{});var n=T(e);t=C(n,"DIV",{class:!0});var f=T(t);a=Y(f,l),f.forEach(h),n.forEach(h),this.h()},h(){v(t,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100")},m(s,n){A(s,e,n),k(e,t),k(t,a)},p(s,n){n[0]&262144&&l!==(l=s[18].t("No results found")+"")&&ee(a,l)},d(s){s&&h(e)}}}function tt(r){var a,s;let e,t=re((s=(a=r[46].model)==null?void 0:a.info)==null?void 0:s.meta.tags),l=[];for(let n=0;n<t.length;n+=1)l[n]=lt(Je(r,t,n));return{c(){e=V("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=C(n,"DIV",{class:!0});var f=T(e);for(let o=0;o<l.length;o+=1)l[o].l(f);f.forEach(h),this.h()},h(){v(e,"class","flex gap-0.5 self-start h-full mb-1.5 -translate-x-1")},m(n,f){A(n,e,f);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,f){var o,d;if(f[0]&65536){t=re((d=(o=n[46].model)==null?void 0:o.info)==null?void 0:d.meta.tags);let c;for(c=0;c<t.length;c+=1){const p=Je(n,t,c);l[c]?l[c].p(p,f):(l[c]=lt(p),l[c].c(),l[c].m(e,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=t.length}},d(n){n&&h(e),ve(l,n)}}}function lt(r){let e,t=r[49].name+"",l,a;return{c(){e=V("div"),l=R(t),a=L(),this.h()},l(s){e=C(s,"DIV",{class:!0});var n=T(e);l=Y(n,t),a=H(n),n.forEach(h),this.h()},h(){v(e,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(s,n){A(s,e,n),k(e,l),k(e,a)},p(s,n){n[0]&65536&&t!==(t=s[49].name+"")&&ee(l,t)},d(s){s&&h(e)}}}function xt(r){let e,t,l,a=r[46].label+"",s;return{c(){e=V("img"),l=L(),s=R(a),this.h()},l(n){e=C(n,"IMG",{src:!0,alt:!0,class:!0}),l=H(n),s=Y(n,a),this.h()},h(){var n,f,o;qe(e.src,t=((o=(f=(n=r[46].model)==null?void 0:n.info)==null?void 0:f.meta)==null?void 0:o.profile_image_url)??"/static/favicon.png")||v(e,"src",t),v(e,"alt","Model"),v(e,"class","rounded-full size-5 flex items-center mr-2")},m(n,f){A(n,e,f),A(n,l,f),A(n,s,f)},p(n,f){var o,d,c;f[0]&65536&&!qe(e.src,t=((c=(d=(o=n[46].model)==null?void 0:o.info)==null?void 0:d.meta)==null?void 0:c.profile_image_url)??"/static/favicon.png")&&v(e,"src",t),f[0]&65536&&a!==(a=n[46].label+"")&&ee(s,a)},d(n){n&&(h(e),h(l),h(s))}}}function at(r){var a,s,n,f,o,d;let e,t,l;return t=new ue({props:{content:`${(s=(a=r[46].model.ollama)==null?void 0:a.details)!=null&&s.quantization_level?((f=(n=r[46].model.ollama)==null?void 0:n.details)==null?void 0:f.quantization_level)+" ":""}${(o=r[46].model.ollama)!=null&&o.size?`(${(((d=r[46].model.ollama)==null?void 0:d.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[el]},$$scope:{ctx:r}}}),{c(){e=V("div"),J(t.$$.fragment),this.h()},l(c){e=C(c,"DIV",{class:!0});var p=T(e);Q(t.$$.fragment,p),p.forEach(h),this.h()},h(){v(e,"class","flex ml-1 items-center translate-y-[0.5px]")},m(c,p){A(c,e,p),K(t,e,null),l=!0},p(c,p){var $,w,S,b,W,I;const _={};p[0]&65536&&(_.content=`${(w=($=c[46].model.ollama)==null?void 0:$.details)!=null&&w.quantization_level?((b=(S=c[46].model.ollama)==null?void 0:S.details)==null?void 0:b.quantization_level)+" ":""}${(W=c[46].model.ollama)!=null&&W.size?`(${(((I=c[46].model.ollama)==null?void 0:I.size)/1024**3).toFixed(1)}GB)`:""}`),p[0]&65536|p[1]&128&&(_.$$scope={dirty:p,ctx:c}),t.$set(_)},i(c){l||(y(t.$$.fragment,c),l=!0)},o(c){O(t.$$.fragment,c),l=!1},d(c){c&&h(e),X(t)}}}function el(r){var a,s;let e,t=(((s=(a=r[46].model.ollama)==null?void 0:a.details)==null?void 0:s.parameter_size)??"")+"",l;return{c(){e=V("span"),l=R(t),this.h()},l(n){e=C(n,"SPAN",{class:!0});var f=T(e);l=Y(f,t),f.forEach(h),this.h()},h(){v(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(n,f){A(n,e,f),k(e,l)},p(n,f){var o,d;f[0]&65536&&t!==(t=(((d=(o=n[46].model.ollama)==null?void 0:o.details)==null?void 0:d.parameter_size)??"")+"")&&ee(l,t)},d(n){n&&h(e)}}}function tl(r){let e,t;return e=new ue({props:{content:"External",$$slots:{default:[al]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){K(e,l,a),t=!0},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){O(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function ll(r){let e,t;return e=new ue({props:{content:"Direct",$$slots:{default:[rl]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){K(e,l,a),t=!0},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){O(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function al(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-n3uai6"&&(e.innerHTML=t),this.h()},h(){v(e,"class","translate-y-[1px]")},m(l,a){A(l,e,a)},p:pe,d(l){l&&h(e)}}}function rl(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-1dup7go"&&(e.innerHTML=t),this.h()},h(){v(e,"class","translate-y-[1px]")},m(l,a){A(l,e,a)},p:pe,d(l){l&&h(e)}}}function rt(r){var l,a,s;let e,t;return e=new ue({props:{content:`${We.parse(Fe((s=(a=(l=r[46].model)==null?void 0:l.info)==null?void 0:a.meta)==null?void 0:s.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[nl]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,f){K(e,n,f),t=!0},p(n,f){var d,c,p;const o={};f[0]&65536&&(o.content=`${We.parse(Fe((p=(c=(d=n[46].model)==null?void 0:d.info)==null?void 0:c.meta)==null?void 0:p.description).replaceAll(`
`,"<br>"))}`),f[1]&128&&(o.$$scope={dirty:f,ctx:n}),e.$set(o)},i(n){t||(y(e.$$.fragment,n),t=!0)},o(n){O(e.$$.fragment,n),t=!1},d(n){X(e,n)}}}function nl(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=V("div"),e.innerHTML=t,this.h()},l(l){e=C(l,"DIV",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-1mqbvzr"&&(e.innerHTML=t),this.h()},h(){v(e,"class","translate-y-[1px]")},m(l,a){A(l,e,a)},p:pe,d(l){l&&h(e)}}}function nt(r){var n,f;let e,t,l=re((f=(n=r[46].model)==null?void 0:n.info)==null?void 0:f.meta.tags),a=[];for(let o=0;o<l.length;o+=1)a[o]=st(Ye(r,l,o));const s=o=>O(a[o],1,1,()=>{a[o]=null});return{c(){e=V("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=C(o,"DIV",{class:!0});var d=T(e);for(let c=0;c<a.length;c+=1)a[c].l(d);d.forEach(h),this.h()},h(){v(e,"class","flex gap-0.5 self-center items-center h-full translate-y-[0.5px] overflow-x-auto scrollbar-none")},m(o,d){A(o,e,d);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);t=!0},p(o,d){var c,p;if(d[0]&65536){l=re((p=(c=o[46].model)==null?void 0:c.info)==null?void 0:p.meta.tags);let _;for(_=0;_<l.length;_+=1){const $=Ye(o,l,_);a[_]?(a[_].p($,d),y(a[_],1)):(a[_]=st($),a[_].c(),y(a[_],1),a[_].m(e,null))}for(te(),_=l.length;_<a.length;_+=1)s(_);le()}},i(o){if(!t){for(let d=0;d<l.length;d+=1)y(a[d]);t=!0}},o(o){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)O(a[d]);t=!1},d(o){o&&h(e),ve(a,o)}}}function sl(r){let e,t=r[49].name+"",l,a;return{c(){e=V("div"),l=R(t),a=L(),this.h()},l(s){e=C(s,"DIV",{class:!0});var n=T(e);l=Y(n,t),n.forEach(h),a=H(s),this.h()},h(){v(e,"class","text-xs font-bold px-1 rounded-sm uppercase bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(s,n){A(s,e,n),k(e,l),A(s,a,n)},p(s,n){n[0]&65536&&t!==(t=s[49].name+"")&&ee(l,t)},d(s){s&&(h(e),h(a))}}}function st(r){let e,t;return e=new ue({props:{content:r[49].name,className:"flex-shrink-0",$$slots:{default:[sl]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){K(e,l,a),t=!0},p(l,a){const s={};a[0]&65536&&(s.content=l[49].name),a[0]&65536|a[1]&128&&(s.$$scope={dirty:a,ctx:l}),e.$set(s)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){O(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function ot(r){let e,t,l;return t=new Ot({}),{c(){e=V("div"),J(t.$$.fragment),this.h()},l(a){e=C(a,"DIV",{class:!0});var s=T(e);Q(t.$$.fragment,s),s.forEach(h),this.h()},h(){v(e,"class","ml-auto pl-2 pr-2 md:pr-0")},m(a,s){A(a,e,s),K(t,e,null),l=!0},i(a){l||(y(t.$$.fragment,a),l=!0)},o(a){O(t.$$.fragment,a),l=!1},d(a){a&&h(e),X(t)}}}function it(r){var x,ce,_e,ge,we,ke,$e,ye,Ee,De,Ve,Ce,Me,Ie,Te;let e,t,l,a,s,n,f,o,d,c,p,_,$,w,S,b,W,I,N,j,E=r[19]&&(((ge=(_e=(ce=(x=r[46])==null?void 0:x.model)==null?void 0:ce.info)==null?void 0:_e.meta)==null?void 0:ge.tags)??[]).length>0&&tt(r);o=new ue({props:{content:((we=r[20])==null?void 0:we.role)==="admin"?((ke=r[46])==null?void 0:ke.value)??"":"",placement:"top-start",$$slots:{default:[xt]},$$scope:{ctx:r}}});let B=r[46].model.owned_by==="ollama"&&(((ye=($e=r[46].model.ollama)==null?void 0:$e.details)==null?void 0:ye.parameter_size)??"")!==""&&at(r);const M=[ll,tl],i=[];function g(u,D){var Z;return(Z=u[46].model)!=null&&Z.direct?0:u[46].model.owned_by==="openai"?1:-1}~(p=g(r))&&(_=i[p]=M[p](r));let m=((Ve=(De=(Ee=r[46].model)==null?void 0:Ee.info)==null?void 0:De.meta)==null?void 0:Ve.description)&&rt(r),z=!r[19]&&(((Te=(Ie=(Me=(Ce=r[46])==null?void 0:Ce.model)==null?void 0:Me.info)==null?void 0:Ie.meta)==null?void 0:Te.tags)??[]).length>0&&nt(r),P=r[0]===r[46].value&&ot();function ne(){return r[32](r[46],r[48])}return{c(){e=V("button"),t=V("div"),E&&E.c(),l=L(),a=V("div"),s=V("div"),n=V("div"),f=V("div"),J(o.$$.fragment),d=L(),B&&B.c(),c=L(),_&&_.c(),$=L(),m&&m.c(),w=L(),z&&z.c(),S=L(),P&&P.c(),this.h()},l(u){e=C(u,"BUTTON",{"aria-label":!0,class:!0,"data-arrow-selected":!0});var D=T(e);t=C(D,"DIV",{class:!0});var Z=T(t);E&&E.l(Z),l=H(Z),a=C(Z,"DIV",{class:!0});var q=T(a);s=C(q,"DIV",{class:!0});var U=T(s);n=C(U,"DIV",{class:!0});var F=T(n);f=C(F,"DIV",{class:!0});var ae=T(f);Q(o.$$.fragment,ae),ae.forEach(h),F.forEach(h),d=H(U),B&&B.l(U),U.forEach(h),c=H(q),_&&_.l(q),$=H(q),m&&m.l(q),w=H(q),z&&z.l(q),q.forEach(h),Z.forEach(h),S=H(D),P&&P.l(D),D.forEach(h),this.h()},h(){v(f,"class","flex items-center min-w-fit"),v(n,"class","line-clamp-1"),v(s,"class","flex items-center min-w-fit"),v(a,"class","flex items-center gap-2"),v(t,"class","flex flex-col"),v(e,"aria-label","model-item"),v(e,"class",b="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(r[48]===r[15]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),v(e,"data-arrow-selected",W=r[48]===r[15])},m(u,D){A(u,e,D),k(e,t),E&&E.m(t,null),k(t,l),k(t,a),k(a,s),k(s,n),k(n,f),K(o,f,null),k(s,d),B&&B.m(s,null),k(a,c),~p&&i[p].m(a,null),k(a,$),m&&m.m(a,null),k(a,w),z&&z.m(a,null),k(e,S),P&&P.m(e,null),I=!0,N||(j=fe(e,"click",ne),N=!0)},p(u,D){var U,F,ae,de,se,G,oe,Ne,ze,Oe,Se,Ae,Be,Pe,je;r=u,r[19]&&(((de=(ae=(F=(U=r[46])==null?void 0:U.model)==null?void 0:F.info)==null?void 0:ae.meta)==null?void 0:de.tags)??[]).length>0?E?E.p(r,D):(E=tt(r),E.c(),E.m(t,l)):E&&(E.d(1),E=null);const Z={};D[0]&1114112&&(Z.content=((se=r[20])==null?void 0:se.role)==="admin"?((G=r[46])==null?void 0:G.value)??"":""),D[0]&65536|D[1]&128&&(Z.$$scope={dirty:D,ctx:r}),o.$set(Z),r[46].model.owned_by==="ollama"&&(((Ne=(oe=r[46].model.ollama)==null?void 0:oe.details)==null?void 0:Ne.parameter_size)??"")!==""?B?(B.p(r,D),D[0]&65536&&y(B,1)):(B=at(r),B.c(),y(B,1),B.m(s,null)):B&&(te(),O(B,1,1,()=>{B=null}),le());let q=p;p=g(r),p!==q&&(_&&(te(),O(i[q],1,1,()=>{i[q]=null}),le()),~p?(_=i[p],_||(_=i[p]=M[p](r),_.c()),y(_,1),_.m(a,$)):_=null),(Se=(Oe=(ze=r[46].model)==null?void 0:ze.info)==null?void 0:Oe.meta)!=null&&Se.description?m?(m.p(r,D),D[0]&65536&&y(m,1)):(m=rt(r),m.c(),y(m,1),m.m(a,w)):m&&(te(),O(m,1,1,()=>{m=null}),le()),!r[19]&&(((je=(Pe=(Be=(Ae=r[46])==null?void 0:Ae.model)==null?void 0:Be.info)==null?void 0:Pe.meta)==null?void 0:je.tags)??[]).length>0?z?(z.p(r,D),D[0]&589824&&y(z,1)):(z=nt(r),z.c(),y(z,1),z.m(a,null)):z&&(te(),O(z,1,1,()=>{z=null}),le()),r[0]===r[46].value?P?D[0]&65537&&y(P,1):(P=ot(),P.c(),y(P,1),P.m(e,null)):P&&(te(),O(P,1,1,()=>{P=null}),le()),(!I||D[0]&32768&&b!==(b="flex w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted "+(r[48]===r[15]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&v(e,"class",b),(!I||D[0]&32768&&W!==(W=r[48]===r[15]))&&v(e,"data-arrow-selected",W)},i(u){I||(y(o.$$.fragment,u),y(B),y(_),y(m),y(z),y(P),I=!0)},o(u){O(o.$$.fragment,u),O(B),O(_),O(m),O(z),O(P),I=!1},d(u){u&&h(e),E&&E.d(),X(o),B&&B.d(),~p&&i[p].d(),m&&m.d(),z&&z.d(),P&&P.d(),N=!1,j()}}}function ft(r){let e,t;return e=new ue({props:{content:r[18].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:r[8]}),placement:"top-start",$$slots:{default:[ol]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,a){K(e,l,a),t=!0},p(l,a){const s={};a[0]&262400&&(s.content=l[18].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:l[8]})),a[0]&262400|a[1]&128&&(s.$$scope={dirty:a,ctx:l}),e.$set(s)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){O(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function ol(r){let e,t,l=r[18].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:r[8]})+"",a,s,n;return{c(){e=V("button"),t=V("div"),a=R(l),this.h()},l(f){e=C(f,"BUTTON",{class:!0});var o=T(e);t=C(o,"DIV",{class:!0});var d=T(t);a=Y(d,l),d.forEach(h),o.forEach(h),this.h()},h(){v(t,"class","truncate"),v(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(f,o){A(f,e,o),k(e,t),k(t,a),s||(n=fe(e,"click",r[33]),s=!0)},p(f,o){o[0]&262400&&l!==(l=f[18].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:f[8]})+"")&&ee(a,l)},d(f){f&&h(e),s=!1,n()}}}function ut(r){let e,t=r[17][r[43]].digest+"",l;return{c(){e=V("div"),l=R(t),this.h()},l(a){e=C(a,"DIV",{class:!0});var s=T(e);l=Y(s,t),s.forEach(h),this.h()},h(){v(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(a,s){A(a,e,s),k(e,l)},p(a,s){s[0]&131072&&t!==(t=a[17][a[43]].digest+"")&&ee(l,t)},d(a){a&&h(e)}}}function il(r){let e,t='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',l,a;function s(){return r[34](r[43])}return{c(){e=V("button"),e.innerHTML=t,this.h()},l(n){e=C(n,"BUTTON",{class:!0,"data-svelte-h":!0}),be(e)!=="svelte-19bzgft"&&(e.innerHTML=t),this.h()},h(){v(e,"class","text-gray-800 dark:text-gray-100")},m(n,f){A(n,e,f),l||(a=fe(e,"click",s),l=!0)},p(n,f){r=n},d(n){n&&h(e),l=!1,a()}}}function ct(r){let e,t,l,a=`<svg class="size-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
											transform-origin: center;
											animation: spinner_AtaB 0.75s infinite linear;
										}
										@keyframes spinner_AtaB {
											100% {
												transform: rotate(360deg);
											}
										}
									</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`,s,n,f,o,d,c=r[43]+"",p,_,$,w,S="pullProgress"in r[17][r[43]]?`(${r[17][r[43]].pullProgress}%)`:"",b,W,I,N,j,E,B,M="digest"in r[17][r[43]]&&r[17][r[43]].digest&&ut(r);return j=new ue({props:{content:r[18].t("Cancel"),$$slots:{default:[il]},$$scope:{ctx:r}}}),{c(){e=V("div"),t=V("div"),l=V("div"),l.innerHTML=a,s=L(),n=V("div"),f=V("div"),o=V("div"),d=R('Downloading "'),p=R(c),_=R('"'),$=L(),w=V("div"),b=R(S),W=L(),M&&M.c(),I=L(),N=V("div"),J(j.$$.fragment),E=L(),this.h()},l(i){e=C(i,"DIV",{class:!0});var g=T(e);t=C(g,"DIV",{class:!0});var m=T(t);l=C(m,"DIV",{class:!0,"data-svelte-h":!0}),be(l)!=="svelte-102rp4j"&&(l.innerHTML=a),s=H(m),n=C(m,"DIV",{class:!0});var z=T(n);f=C(z,"DIV",{class:!0});var P=T(f);o=C(P,"DIV",{class:!0});var ne=T(o);d=Y(ne,'Downloading "'),p=Y(ne,c),_=Y(ne,'"'),ne.forEach(h),$=H(P),w=C(P,"DIV",{class:!0});var x=T(w);b=Y(x,S),x.forEach(h),P.forEach(h),W=H(z),M&&M.l(z),z.forEach(h),m.forEach(h),I=H(g),N=C(g,"DIV",{class:!0});var ce=T(N);Q(j.$$.fragment,ce),ce.forEach(h),E=H(g),g.forEach(h),this.h()},h(){v(l,"class","-ml-2 mr-2.5 translate-y-0.5"),v(o,"class","line-clamp-1"),v(w,"class","shrink-0"),v(f,"class","flex gap-1"),v(n,"class","flex flex-col self-start"),v(t,"class","flex"),v(N,"class","mr-2 ml-1 translate-y-0.5"),v(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-lg cursor-pointer data-highlighted:bg-muted")},m(i,g){A(i,e,g),k(e,t),k(t,l),k(t,s),k(t,n),k(n,f),k(f,o),k(o,d),k(o,p),k(o,_),k(f,$),k(f,w),k(w,b),k(n,W),M&&M.m(n,null),k(e,I),k(e,N),K(j,N,null),k(e,E),B=!0},p(i,g){(!B||g[0]&131072)&&c!==(c=i[43]+"")&&ee(p,c),(!B||g[0]&131072)&&S!==(S="pullProgress"in i[17][i[43]]?`(${i[17][i[43]].pullProgress}%)`:"")&&ee(b,S),"digest"in i[17][i[43]]&&i[17][i[43]].digest?M?M.p(i,g):(M=ut(i),M.c(),M.m(n,null)):M&&(M.d(1),M=null);const m={};g[0]&262144&&(m.content=i[18].t("Cancel")),g[0]&131072|g[1]&128&&(m.$$scope={dirty:g,ctx:i}),j.$set(m)},i(i){B||(y(j.$$.fragment,i),B=!0)},o(i){O(j.$$.fragment,i),B=!1},d(i){i&&h(e),M&&M.d(),X(j)}}}function dt(r){let e,t,l,a,s,n,f,o=r[18].t("Temporary Chat")+"",d,c,p,_,$,w,S;return n=new Jt({props:{className:"size-4",strokeWidth:"2.5"}}),_=new Ft({props:{state:r[21]}}),{c(){e=V("hr"),t=L(),l=V("div"),a=V("button"),s=V("div"),J(n.$$.fragment),f=L(),d=R(o),c=L(),p=V("div"),J(_.$$.fragment),this.h()},l(b){e=C(b,"HR",{class:!0}),t=H(b),l=C(b,"DIV",{class:!0});var W=T(l);a=C(W,"BUTTON",{class:!0});var I=T(a);s=C(I,"DIV",{class:!0});var N=T(s);Q(n.$$.fragment,N),f=H(N),d=Y(N,o),N.forEach(h),c=H(I),p=C(I,"DIV",{});var j=T(p);Q(_.$$.fragment,j),j.forEach(h),I.forEach(h),W.forEach(h),this.h()},h(){v(e,"class","border-gray-100 dark:border-gray-800"),v(s,"class","flex gap-2.5 items-center"),v(a,"class","flex justify-between w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 px-3 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg cursor-pointer data-highlighted:bg-muted"),v(l,"class","flex items-center mx-2 my-2")},m(b,W){A(b,e,W),A(b,t,W),A(b,l,W),k(l,a),k(a,s),K(n,s,null),k(s,f),k(s,d),k(a,c),k(a,p),K(_,p,null),$=!0,w||(S=fe(a,"click",r[35]),w=!0)},p(b,W){(!$||W[0]&262144)&&o!==(o=b[18].t("Temporary Chat")+"")&&ee(d,o);const I={};W[0]&2097152&&(I.state=b[21]),_.$set(I)},i(b){$||(y(n.$$.fragment,b),y(_.$$.fragment,b),$=!0)},o(b){O(n.$$.fragment,b),O(_.$$.fragment,b),$=!1},d(b){b&&(h(e),h(t),h(l)),X(n),X(_),w=!1,S()}}}function fl(r){let e,t,l,a,s=!(r[8].trim()in r[17])&&r[8]&&r[14]&&r[20].role==="admin",n,f,o,d,c,p,_,$=r[3]&&Ke(r),w=r[12]&&Xe(r),S=re(r[16]),b=[];for(let i=0;i<S.length;i+=1)b[i]=it(Re(r,S,i));const W=i=>O(b[i],1,1,()=>{b[i]=null});let I=null;S.length||(I=et(r));let N=s&&ft(r),j=re(Object.keys(r[17])),E=[];for(let i=0;i<j.length;i+=1)E[i]=ct(Ge(r,j,i));const B=i=>O(E[i],1,1,()=>{E[i]=null});let M=r[5]&&dt(r);return{c(){$&&$.c(),e=L(),t=V("div"),w&&w.c(),l=L();for(let i=0;i<b.length;i+=1)b[i].c();I&&I.c(),a=L(),N&&N.c(),n=L();for(let i=0;i<E.length;i+=1)E[i].c();f=L(),M&&M.c(),o=L(),d=V("div"),c=L(),p=V("div"),this.h()},l(i){$&&$.l(i),e=H(i),t=C(i,"DIV",{class:!0});var g=T(t);w&&w.l(g),l=H(g);for(let m=0;m<b.length;m+=1)b[m].l(g);I&&I.l(g),a=H(g),N&&N.l(g),n=H(g);for(let m=0;m<E.length;m+=1)E[m].l(g);g.forEach(h),f=H(i),M&&M.l(i),o=H(i),d=C(i,"DIV",{class:!0}),T(d).forEach(h),c=H(i),p=C(i,"DIV",{class:!0}),T(p).forEach(h),this.h()},h(){v(t,"class","px-3 mb-2 max-h-64 overflow-y-auto scrollbar-hidden group relative"),v(d,"class","hidden w-[42rem]"),v(p,"class","hidden w-[32rem]")},m(i,g){$&&$.m(i,g),A(i,e,g),A(i,t,g),w&&w.m(t,null),k(t,l);for(let m=0;m<b.length;m+=1)b[m]&&b[m].m(t,null);I&&I.m(t,null),k(t,a),N&&N.m(t,null),k(t,n);for(let m=0;m<E.length;m+=1)E[m]&&E[m].m(t,null);A(i,f,g),M&&M.m(i,g),A(i,o,g),A(i,d,g),A(i,c,g),A(i,p,g),_=!0},p(i,g){if(i[3]?$?($.p(i,g),g[0]&8&&y($,1)):($=Ke(i),$.c(),y($,1),$.m(e.parentNode,e)):$&&(te(),O($,1,1,()=>{$=null}),le()),i[12]?w?w.p(i,g):(w=Xe(i),w.c(),w.m(t,l)):w&&(w.d(1),w=null),g[0]&1935361){S=re(i[16]);let m;for(m=0;m<S.length;m+=1){const z=Re(i,S,m);b[m]?(b[m].p(z,g),y(b[m],1)):(b[m]=it(z),b[m].c(),y(b[m],1),b[m].m(t,a))}for(te(),m=S.length;m<b.length;m+=1)W(m);le(),!S.length&&I?I.p(i,g):S.length?I&&(I.d(1),I=null):(I=et(i),I.c(),I.m(t,a))}if(g[0]&1196288&&(s=!(i[8].trim()in i[17])&&i[8]&&i[14]&&i[20].role==="admin"),s?N?(N.p(i,g),g[0]&1196288&&y(N,1)):(N=ft(i),N.c(),y(N,1),N.m(t,n)):N&&(te(),O(N,1,1,()=>{N=null}),le()),g[0]&17170432){j=re(Object.keys(i[17]));let m;for(m=0;m<j.length;m+=1){const z=Ge(i,j,m);E[m]?(E[m].p(z,g),y(E[m],1)):(E[m]=ct(z),E[m].c(),y(E[m],1),E[m].m(t,null))}for(te(),m=j.length;m<E.length;m+=1)B(m);le()}i[5]?M?(M.p(i,g),g[0]&32&&y(M,1)):(M=dt(i),M.c(),y(M,1),M.m(o.parentNode,o)):M&&(te(),O(M,1,1,()=>{M=null}),le())},i(i){if(!_){y($);for(let g=0;g<S.length;g+=1)y(b[g]);y(N);for(let g=0;g<j.length;g+=1)y(E[g]);y(M),_=!0}},o(i){O($),b=b.filter(Boolean);for(let g=0;g<b.length;g+=1)O(b[g]);O(N),E=E.filter(Boolean);for(let g=0;g<E.length;g+=1)O(E[g]);O(M),_=!1},d(i){i&&(h(e),h(t),h(f),h(o),h(d),h(c),h(p)),$&&$.d(i),w&&w.d(),ve(b,i),I&&I.d(),N&&N.d(),ve(E,i),M&&M.d(i)}}}function ul(r){let e;const t=r[26].default,l=kt(t,r,r[38],null),a=l||fl(r);return{c(){a&&a.c()},l(s){a&&a.l(s)},m(s,n){a&&a.m(s,n),e=!0},p(s,n){l?l.p&&(!e||n[1]&128)&&$t(l,t,s,s[38],e?Et(t,s[38],n,null):yt(s[38]),null):a&&a.p&&(!e||n[0]&4185913)&&a.p(s,e?n:[-1,-1])},i(s){e||(y(a,s),e=!0)},o(s){O(a,s),e=!1},d(s){a&&a.d(s)}}}function cl(r){let e,t,l,a;return e=new Mt({props:{class:"relative w-full font-primary","aria-label":r[2],id:"model-selector-"+r[1]+"-button",$$slots:{default:[Xt]},$$scope:{ctx:r}}}),l=new It({props:{class:" z-40 "+(r[19]?"w-full":`${r[6]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Nt,side:r[19]?"bottom":"bottom-start",sideOffset:3,$$slots:{default:[ul]},$$scope:{ctx:r}}}),{c(){J(e.$$.fragment),t=L(),J(l.$$.fragment)},l(s){Q(e.$$.fragment,s),t=H(s),Q(l.$$.fragment,s)},m(s,n){K(e,s,n),A(s,t,n),K(l,s,n),a=!0},p(s,n){const f={};n[0]&4&&(f["aria-label"]=s[2]),n[0]&2&&(f.id="model-selector-"+s[1]+"-button"),n[0]&8324|n[1]&128&&(f.$$scope={dirty:n,ctx:s}),e.$set(f);const o={};n[0]&524352&&(o.class=" z-40 "+(s[19]?"w-full":`${s[6]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),n[0]&524288&&(o.side=s[19]?"bottom":"bottom-start"),n[0]&4185913|n[1]&128&&(o.$$scope={dirty:n,ctx:s}),l.$set(o)},i(s){a||(y(e.$$.fragment,s),y(l.$$.fragment,s),a=!0)},o(s){O(e.$$.fragment,s),O(l.$$.fragment,s),a=!1},d(s){s&&h(t),X(e,s),X(l,s)}}}function dl(r){let e,t,l;function a(n){r[37](n)}let s={onOpenChange:r[36],closeFocus:!1,$$slots:{default:[cl]},$$scope:{ctx:r}};return r[11]!==void 0&&(s.open=r[11]),e=new Ct({props:s}),ht.push(()=>Vt(e,"open",a)),{c(){J(e.$$.fragment)},l(n){Q(e.$$.fragment,n)},m(n,f){K(e,n,f),l=!0},p(n,f){const o={};f[0]&33024&&(o.onOpenChange=n[36]),f[0]&4194303|f[1]&128&&(o.$$scope={dirty:f,ctx:n}),!t&&f[0]&2048&&(t=!0,o.open=n[11],pt(()=>t=!1)),e.$set(o)},i(n){l||(y(e.$$.fragment,n),l=!0)},o(n){O(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function ml(r,e,t){let l,a,s,n,f,o,d,c;me(r,he,u=>t(17,a=u)),me(r,jt,u=>t(39,n=u)),me(r,Lt,u=>t(40,f=u)),me(r,Ht,u=>t(19,o=u)),me(r,Zt,u=>t(20,d=u)),me(r,Ue,u=>t(21,c=u));let{$$slots:p={},$$scope:_}=e;const $=vt("i18n");me(r,$,u=>t(18,s=u)),bt();let{id:w=""}=e,{value:S=""}=e,{placeholder:b="Select a model"}=e,{searchEnabled:W=!0}=e,{searchPlaceholder:I=s.t("Search a model")}=e,{showTemporaryChatControl:N=!1}=e,{items:j=[]}=e,{className:E="w-[32rem]"}=e,{triggerClassName:B="text-lg"}=e,M,i=!1,g=[],m="",z="",P="",ne=null,x=0;const ce=new Tt(j.map(u=>{var Z,q,U,F,ae,de,se,G;return{...u,modelName:(Z=u.model)==null?void 0:Z.name,tags:(ae=(F=(U=(q=u.model)==null?void 0:q.info)==null?void 0:U.meta)==null?void 0:F.tags)==null?void 0:ae.map(oe=>oe.name).join(" "),desc:(G=(se=(de=u.model)==null?void 0:de.info)==null?void 0:se.meta)==null?void 0:G.description}}),{keys:["value","tags","modelName"],threshold:.4}),_e=async()=>{var q;const u=z.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(console.log(a),a[u]){ie.error(s.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:u}));return}if(Object.keys(a).length===3){ie.error(s.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[D,Z]=await Bt(localStorage.token,u,"0").catch(U=>(ie.error(`${U}`),null));if(D){const U=D.body.pipeThrough(new TextDecoderStream).pipeThrough(Wt(`
`)).getReader();for(he.set({...a,[u]:{...a[u],abortController:Z,reader:U,done:!1}});;)try{const{value:F,done:ae}=await U.read();if(ae)break;let de=F.split(`
`);for(const se of de)if(se!==""){let G=JSON.parse(se);if(console.log(G),G.error)throw G.error;if(G.detail)throw G.detail;if(G.status)if(G.digest){let oe=0;G.completed?oe=Math.round(G.completed/G.total*1e3)/10:oe=100,he.set({...a,[u]:{...a[u],pullProgress:oe,digest:G.digest}})}else ie.success(G.status),he.set({...a,[u]:{...a[u],done:G.status==="success"}})}}catch(F){console.log(F),typeof F!="string"&&(F=F.message),ie.error(`${F}`);break}a[u].done?(ie.success(s.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:u})),qt.set(await Ut(localStorage.token,((q=f==null?void 0:f.features)==null?void 0:q.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))):ie.error(s.t("Download canceled")),delete a[u],he.set({...a})}};wt(async()=>{t(14,ne=await At(localStorage.token).catch(u=>!1)),j&&(t(12,g=j.flatMap(u=>{var D,Z,q;return((q=(Z=(D=u.model)==null?void 0:D.info)==null?void 0:Z.meta)==null?void 0:q.tags)??[]}).map(u=>u.name)),t(12,g=Array.from(new Set(g)).sort((u,D)=>u.localeCompare(D))))});const ge=async u=>{const{reader:D,abortController:Z}=a[u];Z&&Z.abort(),D&&(await D.cancel(),delete a[u],he.set({...a}),await Pt(localStorage.token,u),ie.success(`${u} download has been canceled`))};function we(){z=this.value,t(8,z)}const ke=u=>{if(u.code==="Enter"&&l.length>0){t(0,S=l[x].value),t(11,i=!1);return}else u.code==="ArrowDown"?t(15,x=Math.min(x+1,l.length-1)):u.code==="ArrowUp"?t(15,x=Math.max(x-1,0)):t(15,x=0);const D=document.querySelector('[data-arrow-selected="true"]');D==null||D.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},$e=()=>{t(9,P="")},ye=u=>{t(9,P=u)};function Ee(u){ht[u?"unshift":"push"](()=>{M=u,t(10,M)})}const De=(u,D)=>{t(0,S=u.value),t(15,x=D),t(11,i=!1)},Ve=()=>{_e()},Ce=u=>{ge(u)},Me=async()=>{Ue.set(!c),await Gt("/");const u=document.getElementById("new-chat-button");setTimeout(()=>{u==null||u.click()},0),c?history.replaceState(null,"","?temporary-chat=true"):history.replaceState(null,"",location.pathname),t(11,i=!1)},Ie=async()=>{t(8,z=""),t(15,x=0),window.setTimeout(()=>{var u;return(u=document.getElementById("model-search-input"))==null?void 0:u.focus()},0)};function Te(u){i=u,t(11,i)}return r.$$set=u=>{"id"in u&&t(1,w=u.id),"value"in u&&t(0,S=u.value),"placeholder"in u&&t(2,b=u.placeholder),"searchEnabled"in u&&t(3,W=u.searchEnabled),"searchPlaceholder"in u&&t(4,I=u.searchPlaceholder),"showTemporaryChatControl"in u&&t(5,N=u.showTemporaryChatControl),"items"in u&&t(25,j=u.items),"className"in u&&t(6,E=u.className),"triggerClassName"in u&&t(7,B=u.triggerClassName),"$$scope"in u&&t(38,_=u.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&33554433&&t(13,m=j.find(u=>u.value===S)??""),r.$$.dirty[0]&33555200&&t(16,l=z?ce.search(z).map(u=>u.item).filter(u=>{var D,Z,q,U;return P===""?!0:(U=(q=(Z=(D=u.model)==null?void 0:D.info)==null?void 0:Z.meta)==null?void 0:q.tags)==null?void 0:U.map(F=>F.name).includes(P)}):j.filter(u=>{var D,Z,q,U;return P===""?!0:(U=(q=(Z=(D=u.model)==null?void 0:D.info)==null?void 0:Z.meta)==null?void 0:q.tags)==null?void 0:U.map(F=>F.name).includes(P)}))},[S,w,b,W,I,N,E,B,z,P,M,i,g,m,ne,x,l,a,s,o,d,c,$,_e,ge,j,p,we,ke,$e,ye,Ee,De,Ve,Ce,Me,Ie,Te,_]}class Ol extends _t{constructor(e){super(),gt(this,e,ml,dl,mt,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,showTemporaryChatControl:5,items:25,className:6,triggerClassName:7},null,[-1,-1])}}export{Ol as S};
//# sourceMappingURL=Selector.CzDWSTmd.js.map
