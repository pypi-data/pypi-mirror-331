import{d as F}from"./index.Bp1rvAr8.js";import{s as _t,e as p,k as D,c as _,a as g,o as C,d as u,f as a,i as j,g as i,B as me,u as J,n as ke,H as Zt,D as pe,E as _e,y as gt,A as vt,p as Kt,j as Yt,q as Ft,t as G,N as wt,b as K,h as Y,Q as Qt}from"./scheduler.COi8bgmk.js";import{S as bt,i as yt,f as kt,b as ue,d as fe,m as de,t as M,a as R,e as he,g as Wt,c as Jt}from"./index.Bs8QJi7D.js";import{e as Ut}from"./each.BJyh__76.js";import{t as ze}from"./Toaster.svelte_svelte_type_style_lang.DWJS6NQk.js";import{v as Xt}from"./index.qC1OzwzB.js";import{v as $t}from"./index.CxUtQIVW.js";import{M as el}from"./Modal.DiiA2I-w.js";import{P as tl}from"./Plus.B9WEN3Ba.js";import{T as pt}from"./Tooltip.B-3Et9rk.js";import{S as ll}from"./Switch.CLaBGINu.js";const Sl=async(s,e)=>{let t=null;const l=await fetch(`${F}/configs/import`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({config:e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l},Ll=async s=>{let e=null;const t=await fetch(`${F}/configs/export`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(console.log(l),e=l.detail,null));if(e)throw e;return t},Ol=async s=>{let e=null;const t=await fetch(`${F}/configs/direct_connections`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(console.log(l),e=l.detail,null));if(e)throw e;return t},Ml=async(s,e)=>{let t=null;const l=await fetch(`${F}/configs/direct_connections`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({...e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l},Pl=async s=>{let e=null;const t=await fetch(`${F}/configs/code_execution`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(console.log(l),e=l.detail,null));if(e)throw e;return t},Ul=async(s,e)=>{let t=null;const l=await fetch(`${F}/configs/code_execution`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({...e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l},zl=async s=>{let e=null;const t=await fetch(`${F}/configs/models`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(console.log(l),e=l.detail,null));if(e)throw e;return t},Rl=async(s,e)=>{let t=null;const l=await fetch(`${F}/configs/models`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({...e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l},Hl=async(s,e)=>{let t=null;const l=await fetch(`${F}/configs/suggestions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({suggestions:e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l},ql=async s=>{let e=null;const t=await fetch(`${F}/configs/banners`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}}).then(async l=>{if(!l.ok)throw await l.json();return l.json()}).catch(l=>(console.log(l),e=l.detail,null));if(e)throw e;return t},Zl=async(s,e)=>{let t=null;const l=await fetch(`${F}/configs/banners`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({banners:e})}).then(async n=>{if(!n.ok)throw await n.json();return n.json()}).catch(n=>(console.log(n),t=n.detail,null));if(t)throw t;return l};function nl(s){let e,t,l;return{c(){e=pe("svg"),t=pe("path"),l=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=g(e);t=_e(r,"path",{d:!0}),g(t).forEach(u),l=_e(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(l).forEach(u),r.forEach(u),this.h()},h(){a(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),a(l,"fill-rule","evenodd"),a(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),a(l,"clip-rule","evenodd"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"viewBox","0 0 16 16"),a(e,"fill","currentColor"),a(e,"class","size-4")},m(n,r){j(n,e,r),i(e,t),i(e,l)},d(n){n&&u(e)}}}function sl(s){let e,t,l;return{c(){e=pe("svg"),t=pe("path"),l=pe("path"),this.h()},l(n){e=_e(n,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=g(e);t=_e(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(u),l=_e(r,"path",{d:!0}),g(l).forEach(u),r.forEach(u),this.h()},h(){a(t,"fill-rule","evenodd"),a(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),a(t,"clip-rule","evenodd"),a(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"viewBox","0 0 16 16"),a(e,"fill","currentColor"),a(e,"class","size-4")},m(n,r){j(n,e,r),i(e,t),i(e,l)},d(n){n&&u(e)}}}function ol(s){let e,t,l,n,r,o,c,d;function I(m,h){return m[7]?sl:nl}let y=I(s),v=y(s);return{c(){e=p("div"),t=p("input"),r=D(),o=p("button"),v.c(),this.h()},l(m){e=_(m,"DIV",{class:!0});var h=g(e);t=_(h,"INPUT",{class:!0,placeholder:!0,autocomplete:!0,type:!0}),r=C(h),o=_(h,"BUTTON",{class:!0,type:!0});var k=g(o);v.l(k),k.forEach(u),h.forEach(u),this.h()},h(){a(t,"class",l=`${s[5]} ${s[7]?"":"password"}`),a(t,"placeholder",s[1]),t.required=n=s[2]&&!s[3],t.disabled=s[3],a(t,"autocomplete","off"),a(t,"type","text"),a(o,"class",s[6]),a(o,"type","button"),a(e,"class",s[4])},m(m,h){j(m,e,h),i(e,t),me(t,s[0]),i(e,r),i(e,o),v.m(o,null),c||(d=[J(t,"input",s[8]),J(o,"click",s[9])],c=!0)},p(m,[h]){h&160&&l!==(l=`${m[5]} ${m[7]?"":"password"}`)&&a(t,"class",l),h&2&&a(t,"placeholder",m[1]),h&12&&n!==(n=m[2]&&!m[3])&&(t.required=n),h&8&&(t.disabled=m[3]),h&1&&t.value!==m[0]&&me(t,m[0]),y!==(y=I(m))&&(v.d(1),v=y(m),v&&(v.c(),v.m(o,null))),h&64&&a(o,"class",m[6]),h&16&&a(e,"class",m[4])},i:ke,o:ke,d(m){m&&u(e),v.d(),c=!1,Zt(d)}}}function al(s,e,t){let{value:l=""}=e,{placeholder:n=""}=e,{required:r=!0}=e,{readOnly:o=!1}=e,{outerClassName:c="flex flex-1 bg-transparent"}=e,{inputClassName:d="w-full text-sm py-0.5 placeholder:text-gray-300 dark:placeholder:text-gray-700 bg-transparent outline-hidden"}=e,{showButtonClassName:I="pl-1.5  transition bg-transparent"}=e,y=!1;function v(){l=this.value,t(0,l)}const m=h=>{h.preventDefault(),t(7,y=!y)};return s.$$set=h=>{"value"in h&&t(0,l=h.value),"placeholder"in h&&t(1,n=h.placeholder),"required"in h&&t(2,r=h.required),"readOnly"in h&&t(3,o=h.readOnly),"outerClassName"in h&&t(4,c=h.outerClassName),"inputClassName"in h&&t(5,d=h.inputClassName),"showButtonClassName"in h&&t(6,I=h.showButtonClassName)},[l,n,r,o,c,d,I,y,v,m]}class rl extends bt{constructor(e){super(),yt(this,e,al,ol,_t,{value:0,placeholder:1,required:2,readOnly:3,outerClassName:4,inputClassName:5,showButtonClassName:6})}}function il(s){let e,t;return{c(){e=pe("svg"),t=pe("path"),this.h()},l(l){e=_e(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=g(e);t=_e(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(u),n.forEach(u),this.h()},h(){a(t,"stroke-linecap","round"),a(t,"stroke-linejoin","round"),a(t,"d","M5 12h14"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width",s[1]),a(e,"stroke","currentColor"),a(e,"class",s[0])},m(l,n){j(l,e,n),i(e,t)},p(l,[n]){n&2&&a(e,"stroke-width",l[1]),n&1&&a(e,"class",l[0])},i:ke,o:ke,d(l){l&&u(e)}}}function cl(s,e,t){let{className:l="w-4 h-4"}=e,{strokeWidth:n="1.5"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className),"strokeWidth"in r&&t(1,n=r.strokeWidth)},[l,n]}class ul extends bt{constructor(e){super(),yt(this,e,cl,il,_t,{className:0,strokeWidth:1})}}function zt(s,e,t){const l=s.slice();return l[11]=e[t],l[35]=t,l}function fl(s){let e=s[10].t("Add Connection")+"",t;return{c(){t=G(e)},l(l){t=K(l,e)},m(l,n){j(l,t,n)},p(l,n){n[0]&1024&&e!==(e=l[10].t("Add Connection")+"")&&Y(t,e)},d(l){l&&u(t)}}}function dl(s){let e=s[10].t("Edit Connection")+"",t;return{c(){t=G(e)},l(l){t=K(l,e)},m(l,n){j(l,t,n)},p(l,n){n[0]&1024&&e!==(e=l[10].t("Edit Connection")+"")&&Y(t,e)},d(l){l&&u(t)}}}function hl(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',l,n;return{c(){e=p("button"),e.innerHTML=t,this.h()},l(r){e=_(r,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),wt(e)!=="svelte-kma1qx"&&(e.innerHTML=t),this.h()},h(){a(e,"class","self-center p-1 bg-transparent hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 rounded-lg transition"),a(e,"type","button")},m(r,o){j(r,e,o),l||(n=J(e,"click",s[21]),l=!0)},p:ke,d(r){r&&u(e),l=!1,n()}}}function ml(s){let e,t,l;function n(o){s[22](o)}let r={};return s[7]!==void 0&&(r.state=s[7]),e=new ll({props:r}),gt.push(()=>kt(e,"state",n)),{c(){ue(e.$$.fragment)},l(o){fe(e.$$.fragment,o)},m(o,c){de(e,o,c),l=!0},p(o,c){const d={};!t&&c[0]&128&&(t=!0,d.state=o[7],vt(()=>t=!1)),e.$set(d)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){R(e.$$.fragment,o),l=!1},d(o){he(e,o)}}}function pl(s){let e,t,l,n;return{c(){e=p("input"),this.h()},l(r){e=_(r,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),this.h()},h(){a(e,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),a(e,"type","text"),a(e,"placeholder",t=s[10].t("Prefix ID")),a(e,"autocomplete","off")},m(r,o){j(r,e,o),me(e,s[6]),l||(n=J(e,"input",s[24]),l=!0)},p(r,o){o[0]&1024&&t!==(t=r[10].t("Prefix ID"))&&a(e,"placeholder",t),o[0]&64&&e.value!==r[6]&&me(e,r[6])},d(r){r&&u(e),l=!1,n()}}}function _l(s){let e;function t(r,o){return r[3]?wl:vl}let l=t(s),n=l(s);return{c(){e=p("div"),n.c(),this.h()},l(r){e=_(r,"DIV",{class:!0});var o=g(e);n.l(o),o.forEach(u),this.h()},h(){a(e,"class","text-gray-500 text-xs text-center py-2 px-10")},m(r,o){j(r,e,o),n.m(e,null)},p(r,o){l===(l=t(r))&&n?n.p(r,o):(n.d(1),n=l(r),n&&(n.c(),n.m(e,null)))},i:ke,o:ke,d(r){r&&u(e),n.d()}}}function gl(s){let e,t,l=Ut(s[8]),n=[];for(let o=0;o<l.length;o+=1)n[o]=Rt(zt(s,l,o));const r=o=>R(n[o],1,1,()=>{n[o]=null});return{c(){e=p("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var c=g(e);for(let d=0;d<n.length;d+=1)n[d].l(c);c.forEach(u),this.h()},h(){a(e,"class","flex flex-col")},m(o,c){j(o,e,c);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);t=!0},p(o,c){if(c[0]&256){l=Ut(o[8]);let d;for(d=0;d<l.length;d+=1){const I=zt(o,l,d);n[d]?(n[d].p(I,c),M(n[d],1)):(n[d]=Rt(I),n[d].c(),M(n[d],1),n[d].m(e,null))}for(Wt(),d=l.length;d<n.length;d+=1)r(d);Jt()}},i(o){if(!t){for(let c=0;c<l.length;c+=1)M(n[c]);t=!0}},o(o){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)R(n[c]);t=!1},d(o){o&&u(e),Qt(n,o)}}}function vl(s){let e=s[10].t('Leave empty to include all models from "{{URL}}/models" endpoint',{URL:s[4]})+"",t;return{c(){t=G(e)},l(l){t=K(l,e)},m(l,n){j(l,t,n)},p(l,n){n[0]&1040&&e!==(e=l[10].t('Leave empty to include all models from "{{URL}}/models" endpoint',{URL:l[4]})+"")&&Y(t,e)},d(l){l&&u(t)}}}function wl(s){let e=s[10].t('Leave empty to include all models from "{{URL}}/api/tags" endpoint',{URL:s[4]})+"",t;return{c(){t=G(e)},l(l){t=K(l,e)},m(l,n){j(l,t,n)},p(l,n){n[0]&1040&&e!==(e=l[10].t('Leave empty to include all models from "{{URL}}/api/tags" endpoint',{URL:l[4]})+"")&&Y(t,e)},d(l){l&&u(t)}}}function Rt(s){let e,t,l=s[11]+"",n,r,o,c,d,I,y,v,m;d=new ul({props:{strokeWidth:"2",className:"size-3.5"}});function h(){return s[25](s[35])}return{c(){e=p("div"),t=p("div"),n=G(l),r=D(),o=p("div"),c=p("button"),ue(d.$$.fragment),I=D(),this.h()},l(k){e=_(k,"DIV",{class:!0});var E=g(e);t=_(E,"DIV",{class:!0});var N=g(t);n=K(N,l),N.forEach(u),r=C(E),o=_(E,"DIV",{class:!0});var x=g(o);c=_(x,"BUTTON",{type:!0});var V=g(c);fe(d.$$.fragment,V),V.forEach(u),x.forEach(u),I=C(E),E.forEach(u),this.h()},h(){a(t,"class","text-sm flex-1 py-1 rounded-lg"),a(c,"type","button"),a(o,"class","shrink-0"),a(e,"class","flex gap-2 w-full justify-between items-center")},m(k,E){j(k,e,E),i(e,t),i(t,n),i(e,r),i(e,o),i(o,c),de(d,c,null),i(e,I),y=!0,v||(m=J(c,"click",h),v=!0)},p(k,E){s=k,(!y||E[0]&256)&&l!==(l=s[11]+"")&&Y(n,l)},i(k){y||(M(d.$$.fragment,k),y=!0)},o(k){R(d.$$.fragment,k),y=!1},d(k){k&&u(e),he(d),v=!1,m()}}}function Ht(s){let e,t=s[10].t("Delete")+"",l,n,r;return{c(){e=p("button"),l=G(t),this.h()},l(o){e=_(o,"BUTTON",{class:!0,type:!0});var c=g(e);l=K(c,t),c.forEach(u),this.h()},h(){a(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),a(e,"type","button")},m(o,c){j(o,e,c),i(e,l),n||(r=J(e,"click",s[28]),n=!0)},p(o,c){c[0]&1024&&t!==(t=o[10].t("Delete")+"")&&Y(l,t)},d(o){o&&u(e),n=!1,r()}}}function qt(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),wt(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){a(e,"class","ml-2 self-center")},m(l,n){j(l,e,n)},d(l){l&&u(e)}}}function bl(s){let e,t,l,n,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,d,I,y,v,m,h,k,E=s[10].t("URL")+"",N,x,V,B,Ie,Ee,H,De,te,Q,Ve,X,$,se,ge=s[10].t("Key")+"",Ce,Se,oe,q,Le,Oe,w,S,ee=s[10].t("Prefix ID")+"",Re,ot,Te,ae,at,He,rt,le,je,xe,Me=s[10].t("Model IDs")+"",qe,it,P,U,ct,Ze,ut,re,Z,We,Je,ft,Pe,ve,we,dt,ne,Ge,O,Ue=s[10].t("Save")+"",Ke,ht,Ye,L,mt,It;function Et(f,b){return f[2]?dl:fl}let Fe=Et(s),W=Fe(s);H=new pt({props:{content:"Verify Connection",className:"self-end -mb-1",$$slots:{default:[hl]},$$scope:{ctx:s}}}),Q=new pt({props:{content:s[7]?s[10].t("Enabled"):s[10].t("Disabled"),$$slots:{default:[ml]},$$scope:{ctx:s}}});function Gt(f){s[23](f)}let Dt={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden",placeholder:s[10].t("API Key"),required:!s[3]};s[5]!==void 0&&(Dt.value=s[5]),q=new rl({props:Dt}),gt.push(()=>kt(q,"value",Gt)),ae=new pt({props:{content:s[10].t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable"),$$slots:{default:[pl]},$$scope:{ctx:s}}});const Ct=[gl,_l],ie=[];function Tt(f,b){return f[8].length>0?0:1}P=Tt(s),U=ie[P]=Ct[P](s),we=new tl({props:{className:"size-3.5",strokeWidth:"2"}});let T=s[2]&&Ht(s),A=s[9]&&qt();return{c(){e=p("div"),t=p("div"),l=p("div"),W.c(),n=D(),r=p("button"),r.innerHTML=o,c=D(),d=p("div"),I=p("div"),y=p("form"),v=p("div"),m=p("div"),h=p("div"),k=p("div"),N=G(E),x=D(),V=p("div"),B=p("input"),Ee=D(),ue(H.$$.fragment),De=D(),te=p("div"),ue(Q.$$.fragment),Ve=D(),X=p("div"),$=p("div"),se=p("div"),Ce=G(ge),Se=D(),oe=p("div"),ue(q.$$.fragment),Oe=D(),w=p("div"),S=p("div"),Re=G(ee),ot=D(),Te=p("div"),ue(ae.$$.fragment),at=D(),He=p("hr"),rt=D(),le=p("div"),je=p("div"),xe=p("div"),qe=G(Me),it=D(),U.c(),ct=D(),Ze=p("hr"),ut=D(),re=p("div"),Z=p("input"),ft=D(),Pe=p("div"),ve=p("button"),ue(we.$$.fragment),dt=D(),ne=p("div"),T&&T.c(),Ge=D(),O=p("button"),Ke=G(Ue),ht=D(),A&&A.c(),this.h()},l(f){e=_(f,"DIV",{});var b=g(e);t=_(b,"DIV",{class:!0});var be=g(t);l=_(be,"DIV",{class:!0});var Be=g(l);W.l(Be),Be.forEach(u),n=C(be),r=_(be,"BUTTON",{class:!0,"data-svelte-h":!0}),wt(r)!=="svelte-745w2y"&&(r.innerHTML=o),be.forEach(u),c=C(b),d=_(b,"DIV",{class:!0});var ye=g(d);I=_(ye,"DIV",{class:!0});var Ae=g(I);y=_(Ae,"FORM",{class:!0});var ce=g(y);v=_(ce,"DIV",{class:!0});var z=g(v);m=_(z,"DIV",{class:!0});var Ne=g(m);h=_(Ne,"DIV",{class:!0});var Qe=g(h);k=_(Qe,"DIV",{class:!0});var jt=g(k);N=K(jt,E),jt.forEach(u),x=C(Qe),V=_(Qe,"DIV",{class:!0});var xt=g(V);B=_(xt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),xt.forEach(u),Qe.forEach(u),Ee=C(Ne),fe(H.$$.fragment,Ne),De=C(Ne),te=_(Ne,"DIV",{class:!0});var Bt=g(te);fe(Q.$$.fragment,Bt),Bt.forEach(u),Ne.forEach(u),Ve=C(z),X=_(z,"DIV",{class:!0});var Xe=g(X);$=_(Xe,"DIV",{class:!0});var $e=g($);se=_($e,"DIV",{class:!0});var At=g(se);Ce=K(At,ge),At.forEach(u),Se=C($e),oe=_($e,"DIV",{class:!0});var Nt=g(oe);fe(q.$$.fragment,Nt),Nt.forEach(u),$e.forEach(u),Oe=C(Xe),w=_(Xe,"DIV",{class:!0});var et=g(w);S=_(et,"DIV",{class:!0});var Vt=g(S);Re=K(Vt,ee),Vt.forEach(u),ot=C(et),Te=_(et,"DIV",{class:!0});var St=g(Te);fe(ae.$$.fragment,St),St.forEach(u),et.forEach(u),Xe.forEach(u),at=C(z),He=_(z,"HR",{class:!0}),rt=C(z),le=_(z,"DIV",{class:!0});var tt=g(le);je=_(tt,"DIV",{class:!0});var Lt=g(je);xe=_(Lt,"DIV",{class:!0});var Ot=g(xe);qe=K(Ot,Me),Ot.forEach(u),Lt.forEach(u),it=C(tt),U.l(tt),tt.forEach(u),ct=C(z),Ze=_(z,"HR",{class:!0}),ut=C(z),re=_(z,"DIV",{class:!0});var lt=g(re);Z=_(lt,"INPUT",{class:!0,placeholder:!0}),ft=C(lt),Pe=_(lt,"DIV",{});var Mt=g(Pe);ve=_(Mt,"BUTTON",{type:!0});var Pt=g(ve);fe(we.$$.fragment,Pt),Pt.forEach(u),Mt.forEach(u),lt.forEach(u),z.forEach(u),dt=C(ce),ne=_(ce,"DIV",{class:!0});var nt=g(ne);T&&T.l(nt),Ge=C(nt),O=_(nt,"BUTTON",{class:!0,type:!0});var st=g(O);Ke=K(st,Ue),ht=C(st),A&&A.l(st),st.forEach(u),nt.forEach(u),ce.forEach(u),Ae.forEach(u),ye.forEach(u),b.forEach(u),this.h()},h(){a(l,"class","text-lg font-medium self-center font-primary"),a(r,"class","self-center"),a(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 pb-2"),a(k,"class","mb-0.5 text-xs text-gray-500"),a(B,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),a(B,"type","text"),a(B,"placeholder",Ie=s[10].t("API Base URL")),a(B,"autocomplete","off"),B.required=!0,a(V,"class","flex-1"),a(h,"class","flex flex-col w-full"),a(te,"class","flex flex-col shrink-0 self-end"),a(m,"class","flex gap-2"),a(se,"class","mb-0.5 text-xs text-gray-500"),a(oe,"class","flex-1"),a($,"class","flex flex-col w-full"),a(S,"class","mb-1 text-xs text-gray-500"),a(Te,"class","flex-1"),a(w,"class","flex flex-col w-full"),a(X,"class","flex gap-2 mt-2"),a(He,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),a(xe,"class","text-xs text-gray-500"),a(je,"class","mb-1 flex justify-between"),a(le,"class","flex flex-col w-full"),a(Ze,"class","border-gray-100 dark:border-gray-700/10 my-2.5 w-full"),a(Z,"class",We="w-full py-1 text-sm rounded-lg bg-transparent "+(s[11]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"),a(Z,"placeholder",Je=s[10].t("Add a model ID")),a(ve,"type","button"),a(re,"class","flex items-center"),a(v,"class","px-1"),a(O,"class",Ye="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[9]?" cursor-not-allowed":"")),a(O,"type","submit"),O.disabled=s[9],a(ne,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),a(y,"class","flex flex-col w-full"),a(I,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),a(d,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(f,b){j(f,e,b),i(e,t),i(t,l),W.m(l,null),i(t,n),i(t,r),i(e,c),i(e,d),i(d,I),i(I,y),i(y,v),i(v,m),i(m,h),i(h,k),i(k,N),i(h,x),i(h,V),i(V,B),me(B,s[4]),i(m,Ee),de(H,m,null),i(m,De),i(m,te),de(Q,te,null),i(v,Ve),i(v,X),i(X,$),i($,se),i(se,Ce),i($,Se),i($,oe),de(q,oe,null),i(X,Oe),i(X,w),i(w,S),i(S,Re),i(w,ot),i(w,Te),de(ae,Te,null),i(v,at),i(v,He),i(v,rt),i(v,le),i(le,je),i(je,xe),i(xe,qe),i(le,it),ie[P].m(le,null),i(v,ct),i(v,Ze),i(v,ut),i(v,re),i(re,Z),me(Z,s[11]),i(re,ft),i(re,Pe),i(Pe,ve),de(we,ve,null),i(y,dt),i(y,ne),T&&T.m(ne,null),i(ne,Ge),i(ne,O),i(O,Ke),i(O,ht),A&&A.m(O,null),L=!0,mt||(It=[J(r,"click",s[19]),J(B,"input",s[20]),J(Z,"input",s[26]),J(ve,"click",s[27]),J(y,"submit",s[29])],mt=!0)},p(f,b){Fe===(Fe=Et(f))&&W?W.p(f,b):(W.d(1),W=Fe(f),W&&(W.c(),W.m(l,null))),(!L||b[0]&1024)&&E!==(E=f[10].t("URL")+"")&&Y(N,E),(!L||b[0]&1024&&Ie!==(Ie=f[10].t("API Base URL")))&&a(B,"placeholder",Ie),b[0]&16&&B.value!==f[4]&&me(B,f[4]);const be={};b[1]&32&&(be.$$scope={dirty:b,ctx:f}),H.$set(be);const Be={};b[0]&1152&&(Be.content=f[7]?f[10].t("Enabled"):f[10].t("Disabled")),b[0]&128|b[1]&32&&(Be.$$scope={dirty:b,ctx:f}),Q.$set(Be),(!L||b[0]&1024)&&ge!==(ge=f[10].t("Key")+"")&&Y(Ce,ge);const ye={};b[0]&1024&&(ye.placeholder=f[10].t("API Key")),b[0]&8&&(ye.required=!f[3]),!Le&&b[0]&32&&(Le=!0,ye.value=f[5],vt(()=>Le=!1)),q.$set(ye),(!L||b[0]&1024)&&ee!==(ee=f[10].t("Prefix ID")+"")&&Y(Re,ee);const Ae={};b[0]&1024&&(Ae.content=f[10].t("Prefix ID is used to avoid conflicts with other connections by adding a prefix to the model IDs - leave empty to disable")),b[0]&1088|b[1]&32&&(Ae.$$scope={dirty:b,ctx:f}),ae.$set(Ae),(!L||b[0]&1024)&&Me!==(Me=f[10].t("Model IDs")+"")&&Y(qe,Me);let ce=P;P=Tt(f),P===ce?ie[P].p(f,b):(Wt(),R(ie[ce],1,1,()=>{ie[ce]=null}),Jt(),U=ie[P],U?U.p(f,b):(U=ie[P]=Ct[P](f),U.c()),M(U,1),U.m(le,null)),(!L||b[0]&2048&&We!==(We="w-full py-1 text-sm rounded-lg bg-transparent "+(f[11]?"":"text-gray-500")+" placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-hidden"))&&a(Z,"class",We),(!L||b[0]&1024&&Je!==(Je=f[10].t("Add a model ID")))&&a(Z,"placeholder",Je),b[0]&2048&&Z.value!==f[11]&&me(Z,f[11]),f[2]?T?T.p(f,b):(T=Ht(f),T.c(),T.m(ne,Ge)):T&&(T.d(1),T=null),(!L||b[0]&1024)&&Ue!==(Ue=f[10].t("Save")+"")&&Y(Ke,Ue),f[9]?A||(A=qt(),A.c(),A.m(O,null)):A&&(A.d(1),A=null),(!L||b[0]&512&&Ye!==(Ye="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(f[9]?" cursor-not-allowed":"")))&&a(O,"class",Ye),(!L||b[0]&512)&&(O.disabled=f[9])},i(f){L||(M(H.$$.fragment,f),M(Q.$$.fragment,f),M(q.$$.fragment,f),M(ae.$$.fragment,f),M(U),M(we.$$.fragment,f),L=!0)},o(f){R(H.$$.fragment,f),R(Q.$$.fragment,f),R(q.$$.fragment,f),R(ae.$$.fragment,f),R(U),R(we.$$.fragment,f),L=!1},d(f){f&&u(e),W.d(),he(H),he(Q),he(q),he(ae),ie[P].d(),he(we),T&&T.d(),A&&A.d(),mt=!1,Zt(It)}}}function yl(s){let e,t,l;function n(o){s[30](o)}let r={size:"sm",$$slots:{default:[bl]},$$scope:{ctx:s}};return s[0]!==void 0&&(r.show=s[0]),e=new el({props:r}),gt.push(()=>kt(e,"show",n)),{c(){ue(e.$$.fragment)},l(o){fe(e.$$.fragment,o)},m(o,c){de(e,o,c),l=!0},p(o,c){const d={};c[0]&4095|c[1]&32&&(d.$$scope={dirty:c,ctx:o}),!t&&c[0]&1&&(t=!0,d.show=o[0],vt(()=>t=!1)),e.$set(d)},i(o){l||(M(e.$$.fragment,o),l=!0)},o(o){R(e.$$.fragment,o),l=!1},d(o){he(e,o)}}}function kl(s,e,t){let l;const n=Kt("i18n");Yt(s,n,w=>t(10,l=w));let{onSubmit:r=()=>{}}=e,{onDelete:o=()=>{}}=e,{show:c=!1}=e,{edit:d=!1}=e,{ollama:I=!1}=e,{direct:y=!1}=e,{connection:v=null}=e,m="",h="",k="",E=!0,N="",x=[],V=!1;const B=async()=>{await $t(localStorage.token,m,h).catch(S=>{ze.error(`${S}`)})&&ze.success(l.t("Server connection verified"))},Ie=async()=>{await Xt(localStorage.token,m,h,y).catch(S=>{ze.error(`${S}`)})&&ze.success(l.t("Server connection verified"))},Ee=()=>{I?B():Ie()},H=()=>{N&&(t(8,x=[...x,N]),t(11,N=""))},De=async()=>{if(t(9,V=!0),!I&&(!m||!h)){t(9,V=!1),ze.error("URL and Key are required");return}await r({url:m,key:h,config:{enable:E,prefix_id:k,model_ids:x}}),t(9,V=!1),t(0,c=!1),t(4,m=""),t(5,h=""),t(6,k=""),t(8,x=[])},te=()=>{var w,S,ee;v&&(t(4,m=v.url),t(5,h=v.key),t(7,E=((w=v.config)==null?void 0:w.enable)??!0),t(6,k=((S=v.config)==null?void 0:S.prefix_id)??""),t(8,x=((ee=v.config)==null?void 0:ee.model_ids)??[]))};Ft(()=>{te()});const Q=()=>{t(0,c=!1)};function Ve(){m=this.value,t(4,m)}const X=()=>{Ee()};function $(w){E=w,t(7,E)}function se(w){h=w,t(5,h)}function ge(){k=this.value,t(6,k)}const Ce=w=>{t(8,x=x.filter((S,ee)=>ee!==w))};function Se(){N=this.value,t(11,N)}const oe=()=>{H()},q=()=>{o(),t(0,c=!1)},Le=w=>{w.preventDefault(),De()};function Oe(w){c=w,t(0,c)}return s.$$set=w=>{"onSubmit"in w&&t(16,r=w.onSubmit),"onDelete"in w&&t(1,o=w.onDelete),"show"in w&&t(0,c=w.show),"edit"in w&&t(2,d=w.edit),"ollama"in w&&t(3,I=w.ollama),"direct"in w&&t(17,y=w.direct),"connection"in w&&t(18,v=w.connection)},s.$$.update=()=>{s.$$.dirty[0]&1&&c&&te()},[c,o,d,I,m,h,k,E,x,V,l,N,n,Ee,H,De,r,y,v,Q,Ve,X,$,se,ge,Ce,Se,oe,q,Le,Oe]}class Wl extends bt{constructor(e){super(),yt(this,e,kl,yl,_t,{onSubmit:16,onDelete:1,show:0,edit:2,ollama:3,direct:17,connection:18},null,[-1,-1])}}export{Wl as A,ul as M,rl as S,Zl as a,zl as b,Rl as c,Ol as d,Ll as e,Ml as f,ql as g,Pl as h,Sl as i,Ul as j,Hl as s};
//# sourceMappingURL=AddConnectionModal.DSZ59aKj.js.map
