"use strict";(self.webpackChunk_jupytergis_jupytergis_core=self.webpackChunk_jupytergis_jupytergis_core||[]).push([[991],{29991:(e,t,r)=>{r.r(t),r.d(t,{JupyterGISDocumentWidgetFactory:()=>l,default:()=>J});var i=r(76903),o=r(24134),n=r(52209),a=r(8816),s=r(12259),p=r(5310),y=r(24830),m=r(12036),d=r(11324),c=r(10498),u=r(99470);class l extends u.ABCWidgetFactory{constructor(e){var t;const{backendCheck:r,externalCommandRegistry:i}=e;super(function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(r[i[o]]=e[i[o]])}return r}(e,["backendCheck","externalCommandRegistry"])),this.options=e,this._backendCheck=r,this._commands=e.commands,this._externalCommandRegistry=i,this._contentsManager=null===(t=e.manager)||void 0===t?void 0:t.contents}createNewWidget(e){if(this._backendCheck&&!this._backendCheck())throw new Error("Requested backend is not installed");const{model:t}=e;t.filePath=e.localPath,this._contentsManager&&(t.contentsManager=this._contentsManager);const r=new c.JupyterGISPanel({model:t,manager:this.options.manager,contentFactory:this.options.contentFactory,mimeTypeService:this.options.mimeTypeService,rendermime:this.options.rendermime,consoleTracker:this.options.consoleTracker,commandRegistry:this.options.commands}),i=new c.ToolbarWidget({commands:this._commands,model:t,externalCommands:this._externalCommandRegistry.getCommands()});return new c.JupyterGISDocumentWidget({context:e,content:r,toolbar:i})}}class g{constructor(e){this.collaborative=!0,this._disposed=!1,this._annotationModel=e.annotationModel}get name(){return"jupytergis-jgismodel"}get contentType(){return"jgis"}get fileFormat(){return"text"}get isDisposed(){return this._disposed}dispose(){this._disposed=!0}preferredLanguage(e){return""}createNew(e){return new o.JupyterGISModel({sharedModel:e.sharedModel,languagePreference:e.languagePreference,annotationModel:this._annotationModel})}}const b="JupyterGIS .jgis Viewer",h="jgis",I="jupytergis-jgismodel",f={id:"jupyterGIS:jGISplugin",requires:[o.IJupyterGISDocTracker,n.IThemeManager,y.IFileBrowserFactory,o.IJGISExternalCommandRegistryToken,s.ConsolePanel.IContentFactory,a.IEditorServices,d.IRenderMimeRegistry,s.IConsoleTracker,o.IAnnotationToken],optional:[m.ILauncher,n.ICommandPalette,i.ICollaborativeDrive],autoStart:!0,activate:(e,t,r,i,n,a,s,y,m,d,f,S,j)=>{p.PageConfig.getOption("jgis_expose_maps")&&(window.jupytergisMaps={});const O=new l({name:b,modelName:I,fileTypes:[h],defaultFor:[h],tracker:t,commands:e.commands,externalCommandRegistry:n,manager:e.serviceManager,contentFactory:a,rendermime:y,mimeTypeService:s.mimeTypeService,consoleTracker:m});e.docRegistry.addWidgetFactory(O);const G=new u.MimeDocumentFactory({dataType:"json",rendermime:y,modelName:I,name:"JSON Editor",primaryFileType:e.docRegistry.getFileType("json"),fileTypes:[h]});e.docRegistry.addWidgetFactory(G);const x=new g({annotationModel:d});e.docRegistry.addModelFactory(x),e.docRegistry.addFileType({name:h,displayName:"JGIS",mimeTypes:["text/json"],extensions:[".jgis",".JGIS"],fileFormat:"text",contentType:h,icon:c.logoMiniIcon});j&&j.sharedModelFactory.registerDocumentFactory(h,(()=>new o.JupyterGISDoc)),O.widgetCreated.connect(((i,o)=>{o.title.icon=c.logoIcon,o.context.pathChanged.connect((()=>{t.save(o)})),r.themeChanged.connect(((e,t)=>o.model.themeChanged.emit(t))),e.shell.activateById("jupytergis::leftControlPanel"),e.shell.activateById("jupytergis::rightControlPanel"),t.add(o).then((()=>{Object.values(c.CommandIDs).forEach((t=>{e.commands.hasCommand(t)&&e.commands.notifyCommandChanged(t)}))})).catch((e=>{console.error("Cannot update JupyterGIS commands",e)}))})),e.commands.addCommand(c.CommandIDs.createNew,{label:e=>"GIS File",caption:"Create a new JGIS Editor",icon:e=>c.logoIcon,execute:async t=>{var r;const o=t.cwd||(null===(r=i.tracker.currentWidget)||void 0===r?void 0:r.model.path);let n=await e.serviceManager.contents.newUntitled({path:o,type:"file",ext:".jGIS"});return n=await e.serviceManager.contents.save(n.path,Object.assign(Object.assign({},n),{format:"text",size:void 0,content:'{\n\t"layers": {},\n\t"sources": {},\n\t"options": {"latitude": 0, "longitude": 0, "zoom": 0, "bearing": 0, "pitch": 0, "projection": "EPSG:3857"},\n\t"layerTree": [],\n\t"metadata": {}\n}'})),e.commands.execute("docmanager:open",{path:n.path,factory:b})}}),f&&f.add({command:c.CommandIDs.createNew,category:"Other",rank:1}),S&&(S.addItem({command:c.CommandIDs.createNew,args:{isPalette:!0},category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.openLayerBrowser,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newRasterEntry,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newVectorTileEntry,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newGeoJSONEntry,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newHillshadeEntry,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newRasterSource,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newRasterDemSource,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newVectorSource,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newGeoJSONSource,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newRasterLayer,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newVectorLayer,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.newHillshadeLayer,category:"JupyterGIS"}),S.addItem({command:c.CommandIDs.moveLayerToNewGroup,category:"JupyterGIS"}))}};var S=r(99198),j=r(49625),O=r(5851);class G{constructor(){this._registry=new Set}registerCommand(e){this._registry.add(e)}getCommands(){return[...this._registry]}}class x{constructor(){this._registry=[]}getRegistryLayers(){return[...this._registry]}addRegistryLayer(e){this._registry.push(e)}removeRegistryLayer(e){this._registry=this._registry.filter((t=>t.name!==e))}clearRegistry(){this._registry=[]}}const P=JSON.parse('{"GeoTiffSource":{"type":"object","required":["urls"],"additionalProperties":false,"properties":{"urls":{"type":"array","items":{"type":"object","properties":{"url":{"type":"string"},"min":{"type":"number"},"max":{"type":"number"}}},"minItems":1,"description":"URLs"},"normalize":{"type":"boolean","default":true},"wrapX":{"type":"boolean","default":false}}},"HeatmapLayer":{"type":"object","required":["source","blur","radius"],"additionalProperties":false,"properties":{"source":{"type":"string","description":"The id of the source"},"opacity":{"type":"number","description":"The opacity of the source","default":1,"multipleOf":0.1,"minimum":0,"maximum":1},"radius":{"type":"number","description":"Radius size in pixels","default":8},"blur":{"type":"number","description":"Blur size in pixels","default":15},"color":{"type":"array","items":{"type":"string"},"default":["#00f","#0ff","#0f0","#ff0","#f00"]},"symbologyState":{"type":"object","description":"The state of the symbology panel options","required":["renderType"],"properties":{"renderType":{"type":"string"},"colorRamp":{"type":"string","default":"cool"}}}}},"HillshadeLayer":{"type":"object","required":["source"],"additionalProperties":false,"properties":{"source":{"type":"string","description":"The id of the source"},"shadowColor":{"type":"string","description":"The color of the the shadows","default":"#473B24"}}},"ImageLayer":{"type":"object","required":["source"],"additionalProperties":false,"properties":{"source":{"type":"string","description":"The id of the source"},"opacity":{"type":"number","description":"The opacity of the source","default":1,"multipleOf":0.1,"minimum":0,"maximum":1}}},"ImageSource":{"type":"object","required":["path","coordinates"],"additionalProperties":false,"properties":{"path":{"type":"string","readOnly":true,"description":"Path that points to an image"},"coordinates":{"type":"array","readOnly":true,"items":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"minItems":4,"maxItems":4,"default":[],"description":"Corners of image specified in longitude, latitude pairs"}}},"RasterDemSource":{"type":"object","required":["url"],"additionalProperties":false,"properties":{"url":{"type":"string","description":"The url to the tile provider"},"attribution":{"type":"string","description":"The attribution for the raster-dem source"},"urlParameters":{"type":"object","additionalProperties":{"type":"string"}}}},"RasterLayer":{"type":"object","required":["source"],"additionalProperties":false,"properties":{"source":{"type":"string","description":"The id of the source"},"opacity":{"type":"number","description":"The opacity of the source","default":1,"multipleOf":0.1,"minimum":0,"maximum":1}}},"RasterSource":{"type":"object","required":["url","maxZoom","minZoom"],"additionalProperties":false,"properties":{"url":{"type":"string","description":"The url to the tile provider"},"minZoom":{"type":"number","minimum":0,"maximum":24,"readOnly":true,"description":"The minimum zoom level for the raster source","default":0},"maxZoom":{"type":"number","minimum":0,"maximum":24,"readOnly":true,"description":"The maximum zoom level for the raster source","default":24},"attribution":{"type":"string","readOnly":true,"description":"The attribution for the raster source","default":""},"htmlAttribution":{"type":"string","readOnly":true,"description":"The html attribution for the raster source","default":""},"provider":{"type":"string","readOnly":true,"description":"The map provider","default":""},"bounds":{"type":"array","readOnly":true,"items":{"type":"array","items":{"type":"number"}},"default":[],"description":"The bounds of the source"},"urlParameters":{"type":"object","additionalProperties":{"type":"string"},"default":{}}}},"ShapefileSource":{"type":"object","required":["path"],"additionalProperties":false,"properties":{"path":{"type":"string","description":"The path to the shapefile (.shp, .zip, or folder URL)."},"attribution":{"type":"string","readOnly":true,"description":"The attribution for the shapefile source.","default":""},"projection":{"type":"string","description":"The projection information for the shapefile (optional).","default":"WGS84"},"encoding":{"type":"string","description":"The encoding used for the shapefile\'s DBF (optional).","default":"UTF-8"},"additionalFiles":{"type":"object","description":"Additional files associated with the shapefile (e.g., .dbf, .prj, .cpg).","additionalProperties":{"type":"string"},"default":{}}}},"VectorTileLayer":{"type":"object","required":["source","type"],"additionalProperties":false,"properties":{"source":{"type":"string","description":"The id of the source"},"type":{"type":"string","enum":["circle","fill","line"],"default":"line","description":"The type of vector layer"},"color":{"type":"object","description":"The color of the the object"},"opacity":{"type":"number","description":"The opacity of the the object","default":1,"multipleOf":0.1,"minimum":0,"maximum":1}}},"VectorLayer":{"type":"object","required":["source","type"],"additionalProperties":false,"properties":{"source":{"type":"string","description":"The id of the source"},"type":{"type":"string","enum":["circle","fill","line"],"default":"line","description":"The type of vector layer"},"color":{"type":"object","description":"The color of the the object"},"opacity":{"type":"number","description":"The opacity of the the object","default":1,"multipleOf":0.1,"minimum":0,"maximum":1},"symbologyState":{"type":"object","description":"The state of the symbology panel options","required":["renderType"],"properties":{"renderType":{"type":"string","enum":["Single Symbol","Graduated","Categorized"]},"value":{"type":"string"},"method":{"type":"string","enum":["color","radius"]},"colorRamp":{"type":"string","default":"cool"},"nClasses":{"type":"string","default":"9"},"mode":{"type":"string","default":"equal interval","enum":["quantile","equal interval","jenks","pretty","logarithmic"]}},"additionalProperties":false}}},"VectorTileSource":{"type":"object","required":["url","maxZoom","minZoom"],"additionalProperties":false,"properties":{"url":{"type":"string","description":"The url to the tile provider"},"minZoom":{"type":"number","minimum":0,"maximum":24,"description":"The minimum zoom level for the vector source"},"maxZoom":{"type":"number","minimum":0,"maximum":24,"description":"The maximum zoom level for the vector source"},"attribution":{"type":"string","description":"The attribution for the vector source"},"provider":{"type":"string","readOnly":true,"description":"The map provider"},"urlParameters":{"type":"object","additionalProperties":{"type":"string"}}}},"VideoSource":{"type":"object","required":["urls","coordinates"],"additionalProperties":false,"properties":{"urls":{"type":"array","items":{"type":"string"},"minItems":1,"default":[],"description":"URLs to video content in order of preferred format"},"coordinates":{"type":"array","items":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"minItems":4,"maxItems":4,"default":[],"description":"Corners of video specified in longitude, latitude pairs"}}},"WebGlLayer":{"type":"object","required":["source"],"additionalProperties":false,"properties":{"source":{"type":"string","description":"The id of the source"},"opacity":{"type":"number","description":"The opacity of the source","default":1,"multipleOf":0.1,"minimum":0,"maximum":1},"color":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"number"},{"type":"array","items":{"anyOf":[{"type":"number"},{"type":"string"},{"type":"array","items":{"anyOf":[{"type":"number"},{"type":"string"}]}}]}}]}}],"description":"The color of the the object"},"symbologyState":{"type":"object","description":"The state of the symbology panel options","required":["renderType"],"properties":{"renderType":{"type":"string"},"band":{"type":"number"},"redBand":{"type":"number"},"greenBand":{"type":"number"},"blueBand":{"type":"number"},"interpolation":{"type":"string","enum":["discrete","linear","exact"]},"colorRamp":{"type":"string","default":"cool"},"nClasses":{"type":"string","default":"9"},"mode":{"type":"string","default":"equal interval","enum":["continuous","equal interval","quantile"]}},"additionalProperties":false}}},"GeoJSONSource":{"type":"object","required":[],"additionalProperties":false,"properties":{"path":{"type":"string","description":"The local path to a GeoJSON file"},"data":{"type":"object","description":"The GeoJSON data","$schema":"http://json-schema.org/draft-07/schema#","$id":"https://geojson.org/schema/GeoJSON.json","title":"GeoJSON","oneOf":[{"title":"GeoJSON Point","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Point"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"number"}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON LineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["LineString"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON Polygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Polygon"]},"coordinates":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPoint","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPoint"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiLineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiLineString"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPolygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPolygon"]},"coordinates":{"type":"array","items":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON GeometryCollection","type":"object","required":["type","geometries"],"properties":{"type":{"type":"string","enum":["GeometryCollection"]},"geometries":{"type":"array","items":{"oneOf":[{"title":"GeoJSON Point","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Point"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"number"}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON LineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["LineString"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON Polygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Polygon"]},"coordinates":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPoint","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPoint"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiLineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiLineString"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPolygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPolygon"]},"coordinates":{"type":"array","items":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}}]}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON Feature","type":"object","required":["type","properties","geometry"],"properties":{"type":{"type":"string","enum":["Feature"]},"id":{"oneOf":[{"type":"number"},{"type":"string"}]},"properties":{"oneOf":[{"type":"null"},{"type":"object"}]},"geometry":{"oneOf":[{"type":"null"},{"title":"GeoJSON Point","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Point"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"number"}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON LineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["LineString"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON Polygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Polygon"]},"coordinates":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPoint","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPoint"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiLineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiLineString"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPolygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPolygon"]},"coordinates":{"type":"array","items":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON GeometryCollection","type":"object","required":["type","geometries"],"properties":{"type":{"type":"string","enum":["GeometryCollection"]},"geometries":{"type":"array","items":{"oneOf":[{"title":"GeoJSON Point","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Point"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"number"}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON LineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["LineString"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON Polygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Polygon"]},"coordinates":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPoint","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPoint"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiLineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiLineString"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPolygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPolygon"]},"coordinates":{"type":"array","items":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}}]}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}}]},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON FeatureCollection","type":"object","required":["type","features"],"properties":{"type":{"type":"string","enum":["FeatureCollection"]},"features":{"type":"array","items":{"title":"GeoJSON Feature","type":"object","required":["type","properties","geometry"],"properties":{"type":{"type":"string","enum":["Feature"]},"id":{"oneOf":[{"type":"number"},{"type":"string"}]},"properties":{"oneOf":[{"type":"null"},{"type":"object"}]},"geometry":{"oneOf":[{"type":"null"},{"title":"GeoJSON Point","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Point"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"number"}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON LineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["LineString"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON Polygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Polygon"]},"coordinates":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPoint","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPoint"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiLineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiLineString"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPolygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPolygon"]},"coordinates":{"type":"array","items":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON GeometryCollection","type":"object","required":["type","geometries"],"properties":{"type":{"type":"string","enum":["GeometryCollection"]},"geometries":{"type":"array","items":{"oneOf":[{"title":"GeoJSON Point","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Point"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"number"}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON LineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["LineString"]},"coordinates":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON Polygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["Polygon"]},"coordinates":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPoint","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPoint"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"number"}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiLineString","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiLineString"]},"coordinates":{"type":"array","items":{"type":"array","minItems":2,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}},{"title":"GeoJSON MultiPolygon","type":"object","required":["type","coordinates"],"properties":{"type":{"type":"string","enum":["MultiPolygon"]},"coordinates":{"type":"array","items":{"type":"array","items":{"type":"array","minItems":4,"items":{"type":"array","minItems":2,"items":{"type":"number"}}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}}]}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}}]},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}}},"bbox":{"type":"array","minItems":4,"items":{"type":"number"}}}}]},"valid":{"type":"boolean","description":"Whether the data are valid or not","readOnly":true}}}}');class T{constructor(e){this._registry=new Map(Object.entries(P)),this._docManager=e}registerSchema(e,t){this._registry.has(e)?console.error("Worker is already registered!"):this._registry.set(e,t)}has(e){return this._registry.has(e)}getSchemas(){return this._registry}getDocManager(){return this._docManager}}const J=[{id:"jupytergis:core:tracker",autoStart:!0,requires:[j.ITranslator],optional:[S.IMainMenu],provides:o.IJupyterGISDocTracker,activate:(e,t,r)=>{const i=new n.WidgetTracker({namespace:"jupytergis"});return console.log("jupytergis:core:tracker is activated!"),i}},f,{id:"jupytergis:core:form-schema-registry",autoStart:!0,requires:[O.IDocumentManager],provides:o.IJGISFormSchemaRegistryToken,activate:(e,t)=>new T(t)},{id:"jupytergis:core:external-command-registry",autoStart:!0,requires:[],provides:o.IJGISExternalCommandRegistryToken,activate:e=>new G},{id:"jupytergis:core:layer-browser-registry",autoStart:!0,requires:[],provides:o.IJGISLayerBrowserRegistryToken,activate:e=>(console.log("jupytergis:core:layer-browser-registry is activated"),new x)},{id:"jupytergis:core:annotation",autoStart:!0,requires:[o.IJupyterGISDocTracker],provides:o.IAnnotationToken,activate:(e,t)=>{var r;const i=new c.AnnotationModel({model:null===(r=t.currentWidget)||void 0===r?void 0:r.model});return t.currentChanged.connect(((e,t)=>{i.model=(null==t?void 0:t.model)||void 0})),i}}]}}]);