import{s as B,I as M,O as j,H as Q,J as X,K as Y,L as y,d as b,w as N,i as C,b as S,A as je,c as H,e as F,g as V,h as R,j as A,k as fe,E as Ke,o as ce,q as _t,n as ue,m as gt,f as ae,t as ie,a as $e,Q as Mt,z as Pt,F as Ct,B as We,C as Ze,a9 as Lt}from"../chunks/ByuL26re.js";import{S as O,i as q,d as v,t as _,a as m,m as k,e as w,b as I,g as ee,c as te}from"../chunks/BJvdQk2J.js";import{D as Vt,c as me,W as Ge}from"../chunks/CV0NtK_l.js";import{g as ne,a as le,e as ge,c as we,D as At,b as Ce,i as Ht,f as pt,d as Ae,m as Je,h as Rt}from"../chunks/DlI0b1vt.js";import{T as W,f as ht,a as U,m as He,s as pe,b as Re,c as Qe,d as Xe,e as Ft,k as bt,g as Te,t as Fe,n as vt,p as De,r as kt,h as wt,i as jt,j as ke,l as Se,o as Ee,q as Kt,C as Ut}from"../chunks/DYv9Ehvh.js";import{C as zt,P as It}from"../chunks/rliCu_Tq.js";import{p as Bt}from"../chunks/B9u33kEZ.js";import{I as se,L as Nt,a as Ot}from"../chunks/DklFMfKk.js";import{g as Le}from"../chunks/CW0I5fL2.js";import{p as Me}from"../chunks/CbuqWMD-.js";const qt=!1,Wt=!1,ls=Object.freeze(Object.defineProperty({__proto__:null,prerender:qt,ssr:Wt},Symbol.toStringTag,{value:"Module"}));async function Zt(r){const e=[];for(let t=0;;t+=1e3)try{const n=await fetch(`/items/${r}/?limit=1000&skip=${t}`);if(n.ok){const l=await n.json();if(e.push(...l.map(o=>o.id)),l&&l.length<1e3)break}else{n.status!=404&&console.log("api.getDatasetItemsIds -",n.status,n.statusText,await n.text());break}}catch(n){console.log("api.getDatasetItemsIds -",n)}return e}async function Gt(){let r,e;try{const s=await fetch("/datasets/info");s.ok?(r=await s.json(),e=r.map(t=>new Vt(t))):(e=[],console.log("api.getDatasetsInfo -",s.status,s.statusText,await s.text()))}catch(s){e=[],console.log("api.getDatasetsInfo -",s)}return e}async function Jt(){let r;try{const e=await fetch("/models");e.ok?r=await e.json():(r=[],console.log("api.getModels -",e.status,e.statusText))}catch(e){r=[],console.log("api.getModels -",e)}return r}function Qt(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function Xt(r){let e,s;const t=[{name:"arrow-left-circle"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Qt]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function Yt(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 12H8"}],["path",{d:"m12 8-4 4 4 4"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class yt extends O{constructor(e){super(),q(this,e,Yt,Xt,B,{})}}function xt(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function en(r){let e,s;const t=[{name:"arrow-left"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[xt]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function tn(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class Tt extends O{constructor(e){super(),q(this,e,tn,en,B,{})}}function nn(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function ln(r){let e,s;const t=[{name:"arrow-right"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[nn]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function sn(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class St extends O{constructor(e){super(),q(this,e,sn,ln,B,{})}}function on(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function rn(r){let e,s;const t=[{name:"database"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[on]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function an(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class fn extends O{constructor(e){super(),q(this,e,an,rn,B,{})}}function cn(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function un(r){let e,s;const t=[{name:"home"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[cn]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function mn(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["polyline",{points:"9 22 9 12 15 12 15 22"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class Et extends O{constructor(e){super(),q(this,e,mn,un,B,{})}}function $n(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function dn(r){let e,s;const t=[{name:"minus-circle"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[$n]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function _n(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class gn extends O{constructor(e){super(),q(this,e,_n,dn,B,{})}}function pn(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function hn(r){let e,s;const t=[{name:"mouse-pointer"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[pn]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function bn(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["path",{d:"m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z"}],["path",{d:"m13 13 6 6"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class vn extends O{constructor(e){super(),q(this,e,bn,hn,B,{})}}function kn(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function wn(r){let e,s;const t=[{name:"plus-circle"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[kn]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function In(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M8 12h8"}],["path",{d:"M12 8v8"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class Nn extends O{constructor(e){super(),q(this,e,In,wn,B,{})}}function Tn(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function Sn(r){let e,s;const t=[{name:"replace-all"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Tn]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function En(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["path",{d:"M14 4c0-1.1.9-2 2-2"}],["path",{d:"M20 2c1.1 0 2 .9 2 2"}],["path",{d:"M22 8c0 1.1-.9 2-2 2"}],["path",{d:"M16 10c-1.1 0-2-.9-2-2"}],["path",{d:"m3 7 3 3 3-3"}],["path",{d:"M6 10V5c0-1.7 1.3-3 3-3h1"}],["rect",{width:"8",height:"8",x:"2",y:"14",rx:"2"}],["path",{d:"M14 14c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2"}],["path",{d:"M20 14c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class Dn extends O{constructor(e){super(),q(this,e,En,Sn,B,{})}}function Mn(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function Pn(r){let e,s;const t=[{name:"share-2"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Mn]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function Cn(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["circle",{cx:"18",cy:"5",r:"3"}],["circle",{cx:"6",cy:"12",r:"3"}],["circle",{cx:"18",cy:"19",r:"3"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class Ln extends O{constructor(e){super(),q(this,e,Cn,Pn,B,{})}}function Vn(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function An(r){let e,s;const t=[{name:"square"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Vn]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function Hn(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class Dt extends O{constructor(e){super(),q(this,e,Hn,An,B,{})}}function Rn(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function Fn(r){let e,s;const t=[{name:"tangent"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Rn]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function jn(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["circle",{cx:"17",cy:"4",r:"2"}],["path",{d:"M15.59 5.41 5.41 15.59"}],["circle",{cx:"4",cy:"17",r:"2"}],["path",{d:"M12 22s-4-9-1.5-11.5S22 12 22 12"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class Kn extends O{constructor(e){super(),q(this,e,jn,Fn,B,{})}}function Un(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function zn(r){let e,s;const t=[{name:"wand-2"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[Un]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function Bn(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z"}],["path",{d:"m14 7 3 3"}],["path",{d:"M5 6v4"}],["path",{d:"M19 14v4"}],["path",{d:"M10 2v2"}],["path",{d:"M7 8H3"}],["path",{d:"M21 16h-4"}],["path",{d:"M11 3H9"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class On extends O{constructor(e){super(),q(this,e,Bn,zn,B,{})}}function qn(r){let e;const s=r[2].default,t=Q(s,r,r[3],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,l){t&&t.m(n,l),e=!0},p(n,l){t&&t.p&&(!e||l&8)&&X(t,s,n,n[3],e?y(s,n[3],l,null):Y(n[3]),null)},i(n){e||(m(t,n),e=!0)},o(n){_(t,n),e=!1},d(n){t&&t.d(n)}}}function Wn(r){let e,s;const t=[{name:"x"},r[1],{iconNode:r[0]}];let n={$$slots:{default:[qn]},$$scope:{ctx:r}};for(let l=0;l<t.length;l+=1)n=M(n,t[l]);return e=new se({props:n}),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,[o]){const i=o&3?ne(t,[t[0],o&2&&le(l[1]),o&1&&{iconNode:l[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:l}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function Zn(r,e,s){let{$$slots:t={},$$scope:n}=e;const l=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return r.$$set=o=>{s(1,e=M(M({},e),j(o))),"$$scope"in o&&s(3,n=o.$$scope)},e=j(e),[l,e,t,n]}class Gn extends O{constructor(e){super(),q(this,e,Zn,Wn,B,{})}}const Jn=""+new URL("../assets/favicon.OuiISzV3.ico",import.meta.url).href;function Qn(r){let e,s;return e=new Dn({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function Ye(r){let e,s,t,n;return e=new W({props:{tooltipContent:"Validate association (Enter)",selected:!1,$$slots:{default:[Xn]},$$scope:{ctx:r}}}),e.$on("click",r[2]),t=new W({props:{tooltipContent:"Abort association (Escape)",selected:!1,$$slots:{default:[Yn]},$$scope:{ctx:r}}}),t.$on("click",r[3]),{c(){I(e.$$.fragment),s=A(),I(t.$$.fragment)},l(l){w(e.$$.fragment,l),s=V(l),w(t.$$.fragment,l)},m(l,o){k(e,l,o),C(l,s,o),k(t,l,o),n=!0},p(l,o){const i={};o&128&&(i.$$scope={dirty:o,ctx:l}),e.$set(i);const a={};o&128&&(a.$$scope={dirty:o,ctx:l}),t.$set(a)},i(l){n||(m(e.$$.fragment,l),m(t.$$.fragment,l),n=!0)},o(l){_(e.$$.fragment,l),_(t.$$.fragment,l),n=!1},d(l){l&&b(s),v(e,l),v(t,l)}}}function Xn(r){let e,s;return e=new zt({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function Yn(r){let e,s;return e=new Gn({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function yn(r){var $,f;let e,s,t,n,l,o,i;s=new W({props:{tooltipContent:ht.name,selected:(($=r[0])==null?void 0:$.type)===U.Fusion,$$slots:{default:[Qn]},$$scope:{ctx:r}}}),s.$on("click",r[1]);let a=((f=r[0])==null?void 0:f.type)===U.Fusion&&Ye(r);return{c(){e=R("div"),I(s.$$.fragment),t=A(),a&&a.c(),this.h()},l(c){e=H(c,"DIV",{class:!0});var u=F(e);w(s.$$.fragment,u),t=V(u),a&&a.l(u),u.forEach(b),this.h()},h(){var c;N(e,"class",n=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":((c=r[0])==null?void 0:c.type)===U.Fusion}))},m(c,u){C(c,e,u),k(s,e,null),S(e,t),a&&a.m(e,null),l=!0,o||(i=je(window,"keydown",r[4]),o=!0)},p(c,[u]){var d,p,h;const g={};u&1&&(g.selected=((d=c[0])==null?void 0:d.type)===U.Fusion),u&128&&(g.$$scope={dirty:u,ctx:c}),s.$set(g),((p=c[0])==null?void 0:p.type)===U.Fusion?a?(a.p(c,u),u&1&&m(a,1)):(a=Ye(c),a.c(),m(a,1),a.m(e,null)):a&&(ee(),_(a,1,1,()=>{a=null}),te()),(!l||u&1&&n!==(n=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":((h=c[0])==null?void 0:h.type)===U.Fusion})))&&N(e,"class",n)},i(c){l||(m(s.$$.fragment,c),m(a),l=!0)},o(c){_(s.$$.fragment,c),_(a),l=!1},d(c){c&&b(e),v(s),a&&a.d(),o=!1,i()}}}function xn(r,e,s){let t,n;fe(r,pe,f=>s(0,t=f)),fe(r,He,f=>s(6,n=f));let{cleanFusion:l}=e;const o=()=>{He.set({to_fuse:[],forbids:[]}),pe.set(ht),Re.update(f=>f.map(c=>(c.ui.highlighted="all",c.ui.displayControl={...c.ui.displayControl,editing:!1},c)))},i=()=>{let f=[];if(n.to_fuse.length>1){const[c,...u]=n.to_fuse;u.forEach(g=>{g.ui.childs&&(f=[...f,...g.ui.childs])}),Re.update(g=>g.map(d=>{if(f.includes(d)){if(d.ui.top_entities&&d.ui.top_entities.length>0&&d.data.entity_ref.id!==d.ui.top_entities[0].id)return console.error("ERROR: Sub entities currently not managed for fusion.",d),d;d.data.entity_ref={id:c.id,name:c.table_info.name},d.ui.top_entities=[c];const p={change_type:"update",object:d};Qe.update(h=>Xe(h,p))}return d})),Ft.update(g=>{const d=g.filter(p=>!u.includes(p));return d.length>0&&d.map(p=>(p.id===c.id&&(p.ui.childs=p.ui.childs?[...p.ui.childs,...f]:f),p)),d}),u.forEach(g=>{const d={change_type:"delete",object:g};Qe.update(p=>Xe(p,d))})}l()},a=()=>{l()};function $(f){if((t==null?void 0:t.type)!==U.Fusion)return;const c=document.activeElement;if(!(c instanceof HTMLInputElement||c instanceof HTMLTextAreaElement||(c==null?void 0:c.getAttribute("contenteditable"))==="true"))switch(f.key){case"Escape":a();break;case"Enter":i();break}}return r.$$set=f=>{"cleanFusion"in f&&s(5,l=f.cleanFusion)},[t,o,i,a,$,l]}class el extends O{constructor(e){super(),q(this,e,xn,yn,B,{cleanFusion:5})}}function ye(r,e,s){const t=r.slice();return t[7]=e[s],t}function xe(r,e,s){const t=r.slice();return t[10]=e[s],t}function tl(r){let e,s;return e=new Kn({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function et(r){let e,s,t=ge(Fe),n=[];for(let o=0;o<t.length;o+=1)n[o]=nt(ye(r,t,o));const l=o=>_(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=ce()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);e=ce()},m(o,i){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(o,i);C(o,e,i),s=!0},p(o,i){if(i&28){t=ge(Fe);let a;for(a=0;a<t.length;a+=1){const $=ye(o,t,a);n[a]?(n[a].p($,i),m(n[a],1)):(n[a]=nt($),n[a].c(),m(n[a],1),n[a].m(e.parentNode,e))}for(ee(),a=t.length;a<n.length;a+=1)l(a);te()}},i(o){if(!s){for(let i=0;i<t.length;i+=1)m(n[i]);s=!0}},o(o){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)_(n[i]);s=!1},d(o){o&&b(e),Ke(n,o)}}}function tt(r){let e,s,t;return{c(){e=R("div"),s=R("div"),this.h()},l(n){e=H(n,"DIV",{});var l=F(e);s=H(l,"DIV",{class:!0,style:!0}),F(s).forEach(b),l.forEach(b),this.h()},h(){N(s,"class","w-1 h-1 bg-primary rounded-full absolute"),N(s,"style",t=`top: ${r[10].y*100}%; left: ${r[10].x*100}%; background: ${r[3](r[10],r[7].template_id===r[2])}`)},m(n,l){C(n,e,l),S(e,s)},p(n,l){l&4&&t!==(t=`top: ${n[10].y*100}%; left: ${n[10].x*100}%; background: ${n[3](n[10],n[7].template_id===n[2])}`)&&N(s,"style",t)},d(n){n&&b(e)}}}function nl(r){let e,s=ge(r[7].vertices),t=[];for(let n=0;n<s.length;n+=1)t[n]=tt(xe(r,s,n));return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=A()},l(n){for(let l=0;l<t.length;l+=1)t[l].l(n);e=V(n)},m(n,l){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(n,l);C(n,e,l)},p(n,l){if(l&12){s=ge(n[7].vertices);let o;for(o=0;o<s.length;o+=1){const i=xe(n,s,o);t[o]?t[o].p(i,l):(t[o]=tt(i),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=s.length}},d(n){n&&b(e),Ke(t,n)}}}function nt(r){let e,s;function t(){return r[6](r[7])}return e=new W({props:{tooltipContent:r[7].template_id,selected:r[2]===r[7].template_id,$$slots:{default:[nl]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){I(e.$$.fragment)},l(n){w(e.$$.fragment,n)},m(n,l){k(e,n,l),s=!0},p(n,l){r=n;const o={};l&4&&(o.selected=r[2]===r[7].template_id),l&8196&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(n){s||(m(e.$$.fragment,n),s=!0)},o(n){_(e.$$.fragment,n),s=!1},d(n){v(e,n)}}}function ll(r){var i;let e,s,t,n,l;s=new W({props:{tooltipContent:bt.name,$$slots:{default:[tl]},$$scope:{ctx:r}}}),s.$on("click",r[5]);let o=((i=r[1])==null?void 0:i.type)===U.Keypoint&&et(r);return{c(){e=R("div"),I(s.$$.fragment),t=A(),o&&o.c(),this.h()},l(a){e=H(a,"DIV",{class:!0});var $=F(e);w(s.$$.fragment,$),t=V($),o&&o.l($),$.forEach(b),this.h()},h(){var a;N(e,"class",n=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":((a=r[1])==null?void 0:a.type)===U.Keypoint}))},m(a,$){C(a,e,$),k(s,e,null),S(e,t),o&&o.m(e,null),l=!0},p(a,[$]){var c,u;const f={};$&8192&&(f.$$scope={dirty:$,ctx:a}),s.$set(f),((c=a[1])==null?void 0:c.type)===U.Keypoint?o?(o.p(a,$),$&2&&m(o,1)):(o=et(a),o.c(),m(o,1),o.m(e,null)):o&&(ee(),_(o,1,1,()=>{o=null}),te()),(!l||$&2&&n!==(n=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":((u=a[1])==null?void 0:u.type)===U.Keypoint})))&&N(e,"class",n)},i(a){l||(m(s.$$.fragment,a),m(o),l=!0)},o(a){_(s.$$.fragment,a),_(o),l=!1},d(a){a&&b(e),v(s),o&&o.d()}}}function sl(r,e,s){let t,n;fe(r,pe,f=>s(1,t=f)),fe(r,Te,f=>s(2,n=f));let{selectTool:l}=e;const o=(f,c)=>{var u;if((u=f.features)!=null&&u.color)return f.features.color;if(c)return"white"},i=f=>{Te.set(f),vt.set({status:"none"})};pe.subscribe(f=>{(f==null?void 0:f.type)!==U.Keypoint?Te.set(null):Te.set(Fe[0].template_id)});const a=()=>l(bt),$=f=>i(f.template_id);return r.$$set=f=>{"selectTool"in f&&s(0,l=f.selectTool)},[l,t,n,o,i,a,$]}class ol extends O{constructor(e){super(),q(this,e,sl,ll,B,{selectTool:0})}}function rl(r){let e,s;return e=new vn({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function al(r){let e,s;return e=new Dt({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function il(r){let e,s;return e=new Ln({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function lt(r){let e,s;return e=new el({props:{cleanFusion:r[6]}}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},p:ue,i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function fl(r){let e,s;return e=new On({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function st(r){var i,a,$;let e,s,t,n,l,o;return e=new W({props:{tooltipContent:r[2].name,selected:((i=r[1])==null?void 0:i.type)===U.PointSelection&&!!r[1].label,$$slots:{default:[cl]},$$scope:{ctx:r}}}),e.$on("click",r[13]),t=new W({props:{tooltipContent:r[3].name,selected:((a=r[1])==null?void 0:a.type)===U.PointSelection&&!r[1].label,$$slots:{default:[ul]},$$scope:{ctx:r}}}),t.$on("click",r[14]),l=new W({props:{tooltipContent:r[4].name,selected:(($=r[1])==null?void 0:$.type)===U.Rectangle&&r[1].isSmart,$$slots:{default:[ml]},$$scope:{ctx:r}}}),l.$on("click",r[15]),{c(){I(e.$$.fragment),s=A(),I(t.$$.fragment),n=A(),I(l.$$.fragment)},l(f){w(e.$$.fragment,f),s=V(f),w(t.$$.fragment,f),n=V(f),w(l.$$.fragment,f)},m(f,c){k(e,f,c),C(f,s,c),k(t,f,c),C(f,n,c),k(l,f,c),o=!0},p(f,c){var p,h,T;const u={};c&4&&(u.tooltipContent=f[2].name),c&2&&(u.selected=((p=f[1])==null?void 0:p.type)===U.PointSelection&&!!f[1].label),c&65536&&(u.$$scope={dirty:c,ctx:f}),e.$set(u);const g={};c&8&&(g.tooltipContent=f[3].name),c&2&&(g.selected=((h=f[1])==null?void 0:h.type)===U.PointSelection&&!f[1].label),c&65536&&(g.$$scope={dirty:c,ctx:f}),t.$set(g);const d={};c&16&&(d.tooltipContent=f[4].name),c&2&&(d.selected=((T=f[1])==null?void 0:T.type)===U.Rectangle&&f[1].isSmart),c&65536&&(d.$$scope={dirty:c,ctx:f}),l.$set(d)},i(f){o||(m(e.$$.fragment,f),m(t.$$.fragment,f),m(l.$$.fragment,f),o=!0)},o(f){_(e.$$.fragment,f),_(t.$$.fragment,f),_(l.$$.fragment,f),o=!1},d(f){f&&(b(s),b(n)),v(e,f),v(t,f),v(l,f)}}}function cl(r){let e,s;return e=new Nn({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function ul(r){let e,s;return e=new gn({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function ml(r){let e,s;return e=new Dt({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function $l(r){var G,oe,re;let e,s,t,n,l,o,i,a,$,f,c,u,g,d,p,h;t=new W({props:{tooltipContent:De.name,selected:((G=r[1])==null?void 0:G.type)===U.Pan,$$slots:{default:[rl]},$$scope:{ctx:r}}}),t.$on("click",r[10]),l=new W({props:{tooltipContent:kt.name,selected:((oe=r[1])==null?void 0:oe.type)===U.Rectangle&&!r[1].isSmart,$$slots:{default:[al]},$$scope:{ctx:r}}}),l.$on("click",r[11]),i=new W({props:{tooltipContent:wt.name,selected:((re=r[1])==null?void 0:re.type)===U.Polygon,$$slots:{default:[il]},$$scope:{ctx:r}}}),i.$on("click",r[12]),$=new ol({props:{selectTool:r[7]}});let T=r[0]&&lt(r);g=new W({props:{tooltipContent:"Use a smart segmentation model",$$slots:{default:[fl]},$$scope:{ctx:r}}}),g.$on("click",r[8]);let E=r[5]&&st(r);return{c(){e=R("div"),s=R("div"),I(t.$$.fragment),n=A(),I(l.$$.fragment),o=A(),I(i.$$.fragment),a=A(),I($.$$.fragment),f=A(),T&&T.c(),c=A(),u=R("div"),I(g.$$.fragment),d=A(),E&&E.c(),this.h()},l(D){e=H(D,"DIV",{class:!0});var L=F(e);s=H(L,"DIV",{class:!0});var K=F(s);w(t.$$.fragment,K),n=V(K),w(l.$$.fragment,K),o=V(K),w(i.$$.fragment,K),a=V(K),w($.$$.fragment,K),f=V(K),T&&T.l(K),K.forEach(b),c=V(L),u=H(L,"DIV",{class:!0});var P=F(u);w(g.$$.fragment,P),d=V(P),E&&E.l(P),P.forEach(b),L.forEach(b),this.h()},h(){N(s,"class","flex items-center gap-4"),N(u,"class",p=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":r[5]})),N(e,"class","flex gap-4 z-10")},m(D,L){C(D,e,L),S(e,s),k(t,s,null),S(s,n),k(l,s,null),S(s,o),k(i,s,null),S(s,a),k($,s,null),S(s,f),T&&T.m(s,null),S(e,c),S(e,u),k(g,u,null),S(u,d),E&&E.m(u,null),h=!0},p(D,[L]){var de,he,be;const K={};L&2&&(K.selected=((de=D[1])==null?void 0:de.type)===U.Pan),L&65536&&(K.$$scope={dirty:L,ctx:D}),t.$set(K);const P={};L&2&&(P.selected=((he=D[1])==null?void 0:he.type)===U.Rectangle&&!D[1].isSmart),L&65536&&(P.$$scope={dirty:L,ctx:D}),l.$set(P);const z={};L&2&&(z.selected=((be=D[1])==null?void 0:be.type)===U.Polygon),L&65536&&(z.$$scope={dirty:L,ctx:D}),i.$set(z),D[0]?T?(T.p(D,L),L&1&&m(T,1)):(T=lt(D),T.c(),m(T,1),T.m(s,null)):T&&(ee(),_(T,1,1,()=>{T=null}),te());const x={};L&65536&&(x.$$scope={dirty:L,ctx:D}),g.$set(x),D[5]?E?(E.p(D,L),L&32&&m(E,1)):(E=st(D),E.c(),m(E,1),E.m(u,null)):E&&(ee(),_(E,1,1,()=>{E=null}),te()),(!h||L&32&&p!==(p=me("flex items-center gap-4",{"bg-slate-200 rounded-sm":D[5]})))&&N(u,"class",p)},i(D){h||(m(t.$$.fragment,D),m(l.$$.fragment,D),m(i.$$.fragment,D),m($.$$.fragment,D),m(T),m(g.$$.fragment,D),m(E),h=!0)},o(D){_(t.$$.fragment,D),_(l.$$.fragment,D),_(i.$$.fragment,D),_($.$$.fragment,D),_(T),_(g.$$.fragment,D),_(E),h=!1},d(D){D&&b(e),v(t),v(l),v(i),v($),T&&T.d(),v(g),E&&E.d()}}}function dl(r,e,s){let t,n;fe(r,pe,h=>s(1,n=h));let{isVideo:l=!1}=e,o=null;const i=()=>{Re.update(h=>h.map(T=>(T.ui.highlighted="all",T))),He.set({to_fuse:[],forbids:[]})},a=h=>{h!==n&&((o==null?void 0:o.type)===U.Fusion&&i(),pe.set(h))},$=()=>{t?a(De):(a(ke),Kt.update(h=>({...h,currentModalOpen:"selectModel"})))};jt.subscribe(h=>{h&&(s(2,ke.postProcessor=h,ke),s(3,Se.postProcessor=h,Se),s(4,Ee.postProcessor=h,Ee))}),_t(()=>{a(De)});const f=()=>a(De),c=()=>a(kt),u=()=>a(wt),g=()=>a(ke),d=()=>a(Se),p=()=>a(Ee);return r.$$set=h=>{"isVideo"in h&&s(0,l=h.isVideo)},r.$$.update=()=>{r.$$.dirty&2&&s(5,t=n&&n.isSmart),r.$$.dirty&514&&((!(o!=null&&o.isSmart)||!(n!=null&&n.isSmart))&&vt.set({status:"none"}),s(9,o=n))},[l,n,ke,Se,Ee,t,i,a,$,o,f,c,u,g,d,p]}class _l extends O{constructor(e){super(),q(this,e,dl,$l,B,{isVideo:0})}}function ot(r){let e,s,t,n;const l=[pl,gl],o=[];function i(a,$){return a[1]?0:1}return e=i(r),s=o[e]=l[e](r),{c(){s.c(),t=ce()},l(a){s.l(a),t=ce()},m(a,$){o[e].m(a,$),C(a,t,$),n=!0},p(a,$){let f=e;e=i(a),e===f?o[e].p(a,$):(ee(),_(o[f],1,1,()=>{o[f]=null}),te(),s=o[e],s?s.p(a,$):(s=o[e]=l[e](a),s.c()),m(s,1),s.m(t.parentNode,t))},i(a){n||(m(s),n=!0)},o(a){_(s),n=!1},d(a){a&&b(t),o[e].d(a)}}}function gl(r){let e,s,t,n,l,o,i,a,$,f,c,u,g;return s=new W({props:{tooltipContent:"Back to Home",$$slots:{default:[hl]},$$scope:{ctx:r}}}),s.$on("click",r[8]),n=new W({props:{tooltipContent:"Back to dataset",$$slots:{default:[bl]},$$scope:{ctx:r}}}),n.$on("click",function(){gt(r[3])&&r[3].apply(this,arguments)}),a=new W({props:{tooltipContent:"Previous item (shift + left arrow)",$$slots:{default:[vl]},$$scope:{ctx:r}}}),a.$on("click",r[9]),f=new W({props:{tooltipContent:"Next item (shift + right arrow)",$$slots:{default:[kl]},$$scope:{ctx:r}}}),f.$on("click",r[10]),u=new _l({props:{isVideo:r[6].workspace==Ge.VIDEO}}),{c(){e=R("div"),I(s.$$.fragment),t=A(),I(n.$$.fragment),l=A(),o=ie(r[0]),i=A(),I(a.$$.fragment),$=A(),I(f.$$.fragment),c=A(),I(u.$$.fragment),this.h()},l(d){e=H(d,"DIV",{class:!0});var p=F(e);w(s.$$.fragment,p),t=V(p),w(n.$$.fragment,p),l=V(p),o=ae(p,r[0]),i=V(p),w(a.$$.fragment,p),$=V(p),w(f.$$.fragment,p),p.forEach(b),c=V(d),w(u.$$.fragment,d),this.h()},h(){N(e,"class","flex items-center gap-4")},m(d,p){C(d,e,p),k(s,e,null),S(e,t),k(n,e,null),S(e,l),S(e,o),S(e,i),k(a,e,null),S(e,$),k(f,e,null),C(d,c,p),k(u,d,p),g=!0},p(d,p){r=d;const h={};p&2048&&(h.$$scope={dirty:p,ctx:r}),s.$set(h);const T={};p&2048&&(T.$$scope={dirty:p,ctx:r}),n.$set(T),(!g||p&1)&&$e(o,r[0]);const E={};p&2048&&(E.$$scope={dirty:p,ctx:r}),a.$set(E);const G={};p&2048&&(G.$$scope={dirty:p,ctx:r}),f.$set(G);const oe={};p&64&&(oe.isVideo=r[6].workspace==Ge.VIDEO),u.$set(oe)},i(d){g||(m(s.$$.fragment,d),m(n.$$.fragment,d),m(a.$$.fragment,d),m(f.$$.fragment,d),m(u.$$.fragment,d),g=!0)},o(d){_(s.$$.fragment,d),_(n.$$.fragment,d),_(a.$$.fragment,d),_(f.$$.fragment,d),_(u.$$.fragment,d),g=!1},d(d){d&&(b(e),b(c)),v(s),v(n),v(a),v(f),v(u,d)}}}function pl(r){let e,s;return e=new Nt({props:{class:"animate-spin"}}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},p:ue,i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function hl(r){let e,s;return e=new Et({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function bl(r){let e,s;return e=new yt({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function vl(r){let e,s;return e=new Tt({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function kl(r){let e,s;return e=new St({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function wl(r){let e;return{c(){e=ie("Save")},l(s){e=ae(s,"Save")},m(s,t){C(s,e,t)},d(s){s&&b(e)}}}function Il(r){let e,s,t,n,l,o=r[0]&&ot(r);return s=new It({props:{$$slots:{default:[wl]},$$scope:{ctx:r}}}),s.$on("click",function(){gt(r[4])&&r[4].apply(this,arguments)}),{c(){o&&o.c(),e=A(),I(s.$$.fragment)},l(i){o&&o.l(i),e=V(i),w(s.$$.fragment,i)},m(i,a){o&&o.m(i,a),C(i,e,a),k(s,i,a),t=!0,n||(l=je(window,"keyup",r[7]),n=!0)},p(i,[a]){r=i,r[0]?o?(o.p(r,a),a&1&&m(o,1)):(o=ot(r),o.c(),m(o,1),o.m(e.parentNode,e)):o&&(ee(),_(o,1,1,()=>{o=null}),te());const $={};a&2048&&($.$$scope={dirty:a,ctx:r}),s.$set($)},i(i){t||(m(o),m(s.$$.fragment,i),t=!0)},o(i){_(o),_(s.$$.fragment,i),t=!1},d(i){i&&b(e),o&&o.d(i),v(s,i),n=!1,l()}}}function Nl(r,e,s){let t;fe(r,we,d=>s(6,t=d));let{currentItemId:n}=e,{isLoading:l}=e,{goToNeighborItem:o}=e,{handleReturnToPreviousPage:i}=e,{handleSave:a}=e,{navigateTo:$}=e;const f=async d=>{var h;const p=document.activeElement;if(p instanceof HTMLInputElement||p instanceof HTMLTextAreaElement||(p==null?void 0:p.getAttribute("contenteditable"))==="true"||((h=d.target)==null?void 0:h.tagName)==="INPUT"){d.preventDefault(),d.stopPropagation();return}return d.shiftKey&&d.key==="ArrowLeft"?await o("previous"):d.shiftKey&&d.key==="ArrowRight"&&await o("next"),d.key},c=()=>$("/"),u=()=>o("previous"),g=()=>o("next");return r.$$set=d=>{"currentItemId"in d&&s(0,n=d.currentItemId),"isLoading"in d&&s(1,l=d.isLoading),"goToNeighborItem"in d&&s(2,o=d.goToNeighborItem),"handleReturnToPreviousPage"in d&&s(3,i=d.handleReturnToPreviousPage),"handleSave"in d&&s(4,a=d.handleSave),"navigateTo"in d&&s(5,$=d.navigateTo)},[n,l,o,i,a,$,t,f,c,u,g]}class Tl extends O{constructor(e){super(),q(this,e,Nl,Il,B,{currentItemId:0,isLoading:1,goToNeighborItem:2,handleReturnToPreviousPage:3,handleSave:4,navigateTo:5})}}const Sl=(r,e,s)=>{const t=r.findIndex(n=>n===s);if(t!==-1){const n=e==="previous"?t-1:t+1;return n===-1?r[r.length-1]:n===r.length?r[0]:r[n]}},El=(r,e)=>{const s=r.findIndex(t=>t===e);return Math.floor(s/At)+1},rt=[{name:"Dashboard",Icon:Et},{name:"Dataset",Icon:fn}];function at(r,e,s){const t=r.slice();return t[22]=e[s].name,t[23]=e[s].Icon,t}function Dl(r){let e,s,t,n,l=r[4]&&it(r),o=r[1]&&ft(r),i=ge(rt),a=[];for(let f=0;f<i.length;f+=1)a[f]=ct(at(r,i,f));const $=f=>_(a[f],1,1,()=>{a[f]=null});return{c(){l&&l.c(),e=A(),o&&o.c(),s=A(),t=R("div");for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){l&&l.l(f),e=V(f),o&&o.l(f),s=V(f),t=H(f,"DIV",{class:!0});var c=F(t);for(let u=0;u<a.length;u+=1)a[u].l(c);c.forEach(b),this.h()},h(){N(t,"class","flex gap-4")},m(f,c){l&&l.m(f,c),C(f,e,c),o&&o.m(f,c),C(f,s,c),C(f,t,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(t,null);n=!0},p(f,c){if(f[4]?l?(l.p(f,c),c&16&&m(l,1)):(l=it(f),l.c(),m(l,1),l.m(e.parentNode,e)):l&&(ee(),_(l,1,1,()=>{l=null}),te()),f[1]?o?(o.p(f,c),c&2&&m(o,1)):(o=ft(f),o.c(),m(o,1),o.m(s.parentNode,s)):o&&(ee(),_(o,1,1,()=>{o=null}),te()),c&4113){i=ge(rt);let u;for(u=0;u<i.length;u+=1){const g=at(f,i,u);a[u]?(a[u].p(g,c),m(a[u],1)):(a[u]=ct(g),a[u].c(),m(a[u],1),a[u].m(t,null))}for(ee(),u=i.length;u<a.length;u+=1)$(u);te()}},i(f){if(!n){m(l),m(o);for(let c=0;c<i.length;c+=1)m(a[c]);n=!0}},o(f){_(l),_(o),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)_(a[c]);n=!1},d(f){f&&(b(e),b(s),b(t)),l&&l.d(f),o&&o.d(f),Ke(a,f)}}}function Ml(r){let e,s;return e=new Tl({props:{currentItemId:r[1],isLoading:r[2],handleSave:r[8],goToNeighborItem:r[7],handleReturnToPreviousPage:r[11],navigateTo:r[12]}}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},p(t,n){const l={};n&2&&(l.currentItemId=t[1]),n&4&&(l.isLoading=t[2]),e.$set(l)},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function it(r){let e,s,t,n,l,o=r[4].name+"",i,a;return n=new W({props:{tooltipContent:"Back to Home",$$slots:{default:[Pl]},$$scope:{ctx:r}}}),n.$on("click",r[15]),{c(){e=R("div"),s=R("div"),t=R("div"),I(n.$$.fragment),l=A(),i=ie(o),this.h()},l($){e=H($,"DIV",{class:!0});var f=F(e);s=H(f,"DIV",{class:!0});var c=F(s);t=H(c,"DIV",{class:!0});var u=F(t);w(n.$$.fragment,u),u.forEach(b),l=V(c),i=ae(c,o),c.forEach(b),f.forEach(b),this.h()},h(){N(t,"class","h-10 w-10"),N(s,"class","flex gap-4 items-center font-light"),N(e,"class","h-10 flex items-center font-semibold text-2xl")},m($,f){C($,e,f),S(e,s),S(s,t),k(n,t,null),S(s,l),S(s,i),a=!0},p($,f){const c={};f&67108864&&(c.$$scope={dirty:f,ctx:$}),n.$set(c),(!a||f&16)&&o!==(o=$[4].name+"")&&$e(i,o)},i($){a||(m(n.$$.fragment,$),a=!0)},o($){_(n.$$.fragment,$),a=!1},d($){$&&b(e),v(n)}}}function Pl(r){let e,s;return{c(){e=R("img"),this.h()},l(t){e=H(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Pt(e.src,s=Bt)||N(e,"src",s),N(e,"alt","Logo Pixano"),N(e,"class","w-8 h-8 mx-2")},m(t,n){C(t,e,n)},p:ue,d(t){t&&b(e)}}}function ft(r){let e,s,t,n;const l=[Ll,Cl],o=[];function i(a,$){return a[2]?0:1}return e=i(r),s=o[e]=l[e](r),{c(){s.c(),t=ce()},l(a){s.l(a),t=ce()},m(a,$){o[e].m(a,$),C(a,t,$),n=!0},p(a,$){let f=e;e=i(a),e===f?o[e].p(a,$):(ee(),_(o[f],1,1,()=>{o[f]=null}),te(),s=o[e],s?s.p(a,$):(s=o[e]=l[e](a),s.c()),m(s,1),s.m(t.parentNode,t))},i(a){n||(m(s),n=!0)},o(a){_(s),n=!1},d(a){a&&b(t),o[e].d(a)}}}function Cl(r){let e,s,t,n,l,o,i;return s=new W({props:{tooltipContent:"Previous item (shift + left arrow)",$$slots:{default:[Vl]},$$scope:{ctx:r}}}),s.$on("click",r[16]),o=new W({props:{tooltipContent:"Next item (shift + right arrow)",$$slots:{default:[Al]},$$scope:{ctx:r}}}),o.$on("click",r[17]),{c(){e=R("div"),I(s.$$.fragment),t=A(),n=ie(r[1]),l=A(),I(o.$$.fragment),this.h()},l(a){e=H(a,"DIV",{class:!0});var $=F(e);w(s.$$.fragment,$),t=V($),n=ae($,r[1]),l=V($),w(o.$$.fragment,$),$.forEach(b),this.h()},h(){N(e,"class","flex items-center gap-4")},m(a,$){C(a,e,$),k(s,e,null),S(e,t),S(e,n),S(e,l),k(o,e,null),i=!0},p(a,$){const f={};$&67108864&&(f.$$scope={dirty:$,ctx:a}),s.$set(f),(!i||$&2)&&$e(n,a[1]);const c={};$&67108864&&(c.$$scope={dirty:$,ctx:a}),o.$set(c)},i(a){i||(m(s.$$.fragment,a),m(o.$$.fragment,a),i=!0)},o(a){_(s.$$.fragment,a),_(o.$$.fragment,a),i=!1},d(a){a&&b(e),v(s),v(o)}}}function Ll(r){let e,s;return e=new Nt({props:{class:"animate-spin"}}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},p:ue,i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function Vl(r){let e,s;return e=new Tt({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function Al(r){let e,s;return e=new St({}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function Hl(r){let e,s,t,n,l;return e=new r[23]({props:{strokeWidth:1}}),{c(){I(e.$$.fragment),s=A(),t=ie(r[22]),n=A()},l(o){w(e.$$.fragment,o),s=V(o),t=ae(o,r[22]),n=V(o)},m(o,i){k(e,o,i),C(o,s,i),C(o,t,i),C(o,n,i),l=!0},p:ue,i(o){l||(m(e.$$.fragment,o),l=!0)},o(o){_(e.$$.fragment,o),l=!1},d(o){o&&(b(s),b(t),b(n)),v(e,o)}}}function ct(r){var n;let e,s;function t(){return r[18](r[22])}return e=new It({props:{isSelected:(n=r[0])==null?void 0:n.includes(`/${r[22]}`.toLowerCase()),$$slots:{default:[Hl]},$$scope:{ctx:r}}}),e.$on("click",t),{c(){I(e.$$.fragment)},l(l){w(e.$$.fragment,l)},m(l,o){k(e,l,o),s=!0},p(l,o){var a;r=l;const i={};o&1&&(i.isSelected=(a=r[0])==null?void 0:a.includes(`/${r[22]}`.toLowerCase())),o&67108864&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(l){s||(m(e.$$.fragment,l),s=!0)},o(l){_(e.$$.fragment,l),s=!1},d(l){v(e,l)}}}function ut(r){let e,s;return e=new Ut({props:{message:"You have unsaved changes",confirm:"Save and continue",alternativeAction:"Continue without saving"}}),e.$on("confirm",r[9]),e.$on("alternative",r[10]),e.$on("cancel",r[19]),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},p:ue,i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function Rl(r){let e,s,t,n,l,o,i,a;const $=[Ml,Dl],f=[];function c(g,d){return g[5].route.id===g[6]?0:1}s=c(r),t=f[s]=$[s](r);let u=r[3]!=="none"&&ut(r);return{c(){e=R("header"),t.c(),n=A(),u&&u.c(),l=ce(),this.h()},l(g){e=H(g,"HEADER",{class:!0});var d=F(e);t.l(d),d.forEach(b),n=V(g),u&&u.l(g),l=ce(),this.h()},h(){N(e,"class","w-full fixed z-40 font-Montserrat h-20 p-5 flex justify-between items-center shrink-0 bg-white border-b border-slate-200 shadow-sm text-slate-800")},m(g,d){C(g,e,d),f[s].m(e,null),C(g,n,d),u&&u.m(g,d),C(g,l,d),o=!0,i||(a=Mt(r[13].call(null,e)),i=!0)},p(g,[d]){let p=s;s=c(g),s===p?f[s].p(g,d):(ee(),_(f[p],1,1,()=>{f[p]=null}),te(),t=f[s],t?t.p(g,d):(t=f[s]=$[s](g),t.c()),m(t,1),t.m(e,null)),g[3]!=="none"?u?(u.p(g,d),d&8&&m(u,1)):(u=ut(g),u.c(),m(u,1),u.m(l.parentNode,l)):u&&(ee(),_(u,1,1,()=>{u=null}),te())},i(g){o||(m(t),m(u),o=!0)},o(g){_(t),_(u),o=!1},d(g){g&&(b(e),b(n),b(l)),f[s].d(),u&&u.d(g),i=!1,a()}}}function Fl(r,e,s){let t,n;fe(r,we,P=>s(4,t=P)),fe(r,Me,P=>s(5,n=P));let{pageId:l}=e,{datasetItemsIds:o}=e,i,a,$,f="none",c="none";const u="/[dataset]/dataset/[itemId]";Ce.subscribe(P=>$=P.canSave),Ht.subscribe(P=>{s(2,a=P)});const g=async P=>{const z=Sl(o,P,i);if(z){const x=`/${t.id}/dataset/${z}`;if($)return c=z,s(3,f=x);s(1,i=z),await Le(x)}},d=()=>{Ce.update(P=>({...P,shouldSave:!0}))},p=async()=>{d(),await h()},h=async()=>{c!=="none"&&(s(1,i=c),c="none"),await Le(f),s(3,f="none"),Ce.set({canSave:!1,shouldSave:!1})},T=async()=>{i?(pt.update(P=>(P.currentPage=El(o,i),P)),await E(`/${t.id}/dataset`)):await E("/")},E=async P=>{if($)return s(3,f=P);await Le(P)};function G(P){function z(x){$&&x.preventDefault()}return window.addEventListener("beforeunload",z),{destroy(){window.removeEventListener("beforeunload",z)}}}const oe=()=>E("/"),re=()=>g("previous"),D=()=>g("next"),L=P=>E(`/${t.id}/${P.toLocaleLowerCase()}`),K=()=>s(3,f="none");return r.$$set=P=>{"pageId"in P&&s(0,l=P.pageId),"datasetItemsIds"in P&&s(14,o=P.datasetItemsIds)},Me.subscribe(P=>{s(1,i=P.params.itemId)}),[l,i,a,f,t,n,u,g,d,p,h,T,E,G,o,oe,re,D,L,K]}class jl extends O{constructor(e){super(),q(this,e,Fl,Rl,B,{pageId:0,datasetItemsIds:14})}}const Kl=""+new URL("../assets/pixano_white.BVKPSmmP.png",import.meta.url).href;function mt(r){var be,Ue;let e,s,t=((be=r[0])==null?void 0:be.length)+"",n,l,o,i,a=((Ue=r[0])==null?void 0:Ue.length)>1?"s":"",$,f,c,u,g=r[0].reduce($t,0)+"",d,p,h,T,E=r[0].reduce(dt,0)>1?"s":"",G,oe,re,D,L,K,P,z,x,de,he;return{c(){e=R("div"),s=R("span"),n=ie(t),l=A(),o=R("span"),i=ie("dataset"),$=ie(a),f=A(),c=R("div"),u=R("span"),d=ie(g),p=A(),h=R("span"),T=ie("item"),G=ie(E),oe=A(),re=R("div"),D=R("div"),L=R("div"),K=R("input"),P=A(),z=Ze("svg"),x=Ze("path"),this.h()},l(Z){e=H(Z,"DIV",{class:!0});var J=F(e);s=H(J,"SPAN",{class:!0});var ve=F(s);n=ae(ve,t),ve.forEach(b),l=V(J),o=H(J,"SPAN",{class:!0});var _e=F(o);i=ae(_e,"dataset"),$=ae(_e,a),_e.forEach(b),J.forEach(b),f=V(Z),c=H(Z,"DIV",{class:!0});var Ie=F(c);u=H(Ie,"SPAN",{class:!0});var ze=F(u);d=ae(ze,g),ze.forEach(b),p=V(Ie),h=H(Ie,"SPAN",{class:!0});var Pe=F(h);T=ae(Pe,"item"),G=ae(Pe,E),Pe.forEach(b),Ie.forEach(b),oe=V(Z),re=H(Z,"DIV",{class:!0});var Be=F(re);D=H(Be,"DIV",{class:!0});var Oe=F(D);L=H(Oe,"DIV",{class:!0});var Ne=F(L);K=H(Ne,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),P=V(Ne),z=We(Ne,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var qe=F(z);x=We(qe,"path",{d:!0,fill:!0}),F(x).forEach(b),qe.forEach(b),Ne.forEach(b),Oe.forEach(b),Be.forEach(b),this.h()},h(){N(s,"class","mr-2 text-4xl font-medium"),N(o,"class","text-xl font-medium"),N(e,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),N(u,"class","mr-2 text-4xl font-medium"),N(h,"class","text-xl font-medium"),N(c,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),N(K,"id","search-input"),N(K,"type","text"),N(K,"placeholder","Search datasets"),N(K,"class","h-10 pl-10 pr-4 rounded border border-primary-foreground bg-primary-foreground text-white placeholder-white font-medium focus:outline-none"),N(x,"d",Ot),N(x,"fill","white"),N(z,"xmlns","http://www.w3.org/2000/svg"),N(z,"height","48"),N(z,"viewBox","0 -960 960 960"),N(z,"width","48"),N(z,"class","absolute left-3 h-5 w-5 pointer-events-none"),N(L,"class","h-20 relative flex items-center"),N(D,"class","flex items-center space-x-2"),N(re,"class","grow self-end flex flex-row justify-end items-end")},m(Z,J){C(Z,e,J),S(e,s),S(s,n),S(e,l),S(e,o),S(o,i),S(o,$),C(Z,f,J),C(Z,c,J),S(c,u),S(u,d),S(c,p),S(c,h),S(h,T),S(h,G),C(Z,oe,J),C(Z,re,J),S(re,D),S(D,L),S(L,K),S(L,P),S(L,z),S(z,x),de||(he=je(K,"input",r[1]),de=!0)},p(Z,J){var ve,_e;J&1&&t!==(t=((ve=Z[0])==null?void 0:ve.length)+"")&&$e(n,t),J&1&&a!==(a=((_e=Z[0])==null?void 0:_e.length)>1?"s":"")&&$e($,a),J&1&&g!==(g=Z[0].reduce($t,0)+"")&&$e(d,g),J&1&&E!==(E=Z[0].reduce(dt,0)>1?"s":"")&&$e(G,E)},d(Z){Z&&(b(e),b(f),b(c),b(oe),b(re)),de=!1,he()}}}function Ul(r){let e,s,t=`<img src="${Kl}" alt="Logo Pixano" class="w-7 h-7"/> <span class="text-2xl font-semibold text-slate-50 uppercase">Pixano</span>`,n,l,o=r[0]&&mt(r);return{c(){e=R("header"),s=R("div"),s.innerHTML=t,n=A(),l=R("div"),o&&o.c(),this.h()},l(i){e=H(i,"HEADER",{class:!0});var a=F(e);s=H(a,"DIV",{class:!0,"data-svelte-h":!0}),Ct(s)!=="svelte-1gjs2pg"&&(s.innerHTML=t),n=V(a),l=H(a,"DIV",{class:!0});var $=F(l);o&&o.l($),$.forEach(b),a.forEach(b),this.h()},h(){N(s,"class","flex gap-4 items-center"),N(l,"class","flex pt-4 h-36 w-full items-center flex-wrap text-slate-50"),N(e,"class","p-4 w-full h-fit pt-8 px-20 xl:px-60 flex flex-col justify-evenly bg-primary font-Montserrat z-10")},m(i,a){C(i,e,a),S(e,s),S(e,n),S(e,l),o&&o.m(l,null)},p(i,[a]){i[0]?o?o.p(i,a):(o=mt(i),o.c(),o.m(l,null)):o&&(o.d(1),o=null)},i:ue,o:ue,d(i){i&&b(e),o&&o.d()}}}const $t=(r,e)=>r+e.num_items,dt=(r,e)=>r+e.num_items;function zl(r,e,s){let{datasets:t}=e;const n=l=>{const o=l.currentTarget;Ae.update((i=[])=>i.map(a=>({...a,isFiltered:!a.name.toLocaleLowerCase().includes(o.value.toLocaleLowerCase())})))};return r.$$set=l=>{"datasets"in l&&s(0,t=l.datasets)},[t,n]}class Bl extends O{constructor(e){super(),q(this,e,zl,Ul,B,{datasets:0})}}function Ol(r){let e,s;return e=new jl({props:{pageId:r[2].route.id,datasetItemsIds:r[1]}}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},p(t,n){const l={};n&4&&(l.pageId=t[2].route.id),n&2&&(l.datasetItemsIds=t[1]),e.$set(l)},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function ql(r){let e,s;return e=new Bl({props:{datasets:r[0]}}),{c(){I(e.$$.fragment)},l(t){w(e.$$.fragment,t)},m(t,n){k(e,t,n),s=!0},p(t,n){const l={};n&1&&(l.datasets=t[0]),e.$set(l)},i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){_(e.$$.fragment,t),s=!1},d(t){v(e,t)}}}function Wl(r){let e,s,t,n,l,o,i,a,$,f;const c=[ql,Ol],u=[];function g(h,T){return h[2].route.id===Ve?0:1}l=g(r),o=u[l]=c[l](r);const d=r[6].default,p=Q(d,r,r[5],null);return{c(){e=R("link"),s=R("meta"),t=A(),n=R("div"),o.c(),i=A(),a=R("main"),p&&p.c(),this.h()},l(h){const T=Lt("svelte-8x3pw",document.head);e=H(T,"LINK",{rel:!0,type:!0,href:!0}),s=H(T,"META",{name:!0,content:!0}),T.forEach(b),t=V(h),n=H(h,"DIV",{class:!0});var E=F(n);o.l(E),i=V(E),a=H(E,"MAIN",{class:!0});var G=F(a);p&&p.l(G),G.forEach(b),E.forEach(b),this.h()},h(){N(e,"rel","icon"),N(e,"type","image/svg"),N(e,"href",Jn),document.title="Pixano",N(s,"name","description"),N(s,"content","Pixano app"),N(a,"class",$=me("bg-slate-50 flex flex-col h-screen",r[2].route.id!==Ve&&"pt-20")),N(n,"class","app")},m(h,T){S(document.head,e),S(document.head,s),C(h,t,T),C(h,n,T),u[l].m(n,null),S(n,i),S(n,a),p&&p.m(a,null),f=!0},p(h,[T]){let E=l;l=g(h),l===E?u[l].p(h,T):(ee(),_(u[E],1,1,()=>{u[E]=null}),te(),o=u[l],o?o.p(h,T):(o=u[l]=c[l](h),o.c()),m(o,1),o.m(n,i)),p&&p.p&&(!f||T&32)&&X(p,d,h,h[5],f?y(d,h[5],T,null):Y(h[5]),null),(!f||T&4&&$!==($=me("bg-slate-50 flex flex-col h-screen",h[2].route.id!==Ve&&"pt-20")))&&N(a,"class",$)},i(h){f||(m(o),m(p,h),f=!0)},o(h){_(o),_(p,h),f=!1},d(h){h&&(b(t),b(n)),b(e),b(s),u[l].d(),p&&p.d(h)}}}const Ve="/";function Zl(r,e,s){let t,n,l;fe(r,Ae,c=>s(0,t=c)),fe(r,we,c=>s(4,n=c)),fe(r,Me,c=>s(2,l=c));let{$$slots:o={},$$scope:i}=e,a,$;_t(()=>{Jt().then(c=>Je.set(c)).catch(()=>Je.set([])),Gt().then(c=>{Ae.set(c)}).catch(c=>{console.error(c)})});const f=async c=>{c!==void 0&&s(1,$=await Zt(c))};return r.$$set=c=>{"$$scope"in c&&s(5,i=c.$$scope)},r.$$.update=()=>{r.$$.dirty&25&&Me.subscribe(c=>{if(s(3,a=c.params.dataset),a&&n==null){const u=t==null?void 0:t.find(g=>g.id===a);u&&we.set(u)}}),r.$$.dirty&8&&f(a)},we.subscribe(c=>{c&&pt.set(Rt)}),[t,$,l,a,n,i,o]}class ss extends O{constructor(e){super(),q(this,e,Zl,Wl,B,{})}}export{ss as component,ls as universal};
