/*! For license information please see main.f8ccf90e.chunk.js.LICENSE.txt */
(this.webpackJsonpstreamlit_component_template=this.webpackJsonpstreamlit_component_template||[]).push([[0],{21:function(e,t,n){e.exports=n(37)},33:function(e,t){},34:function(e,t){},35:function(e,t){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a,r=n(8),o=n.n(r),s=n(18),i=n.n(s),c=n(6),l=n(0),u=n(1),d=n(2),h=n(3),m=n(19),g=n.n(m),f=n(5),v=n(20),b=n(12),E=function(){function e(t,n,a,r){var o=this;Object(l.a)(this,e),this.dataTable=void 0,this.indexTable=void 0,this.columnsTable=void 0,this.styler=void 0,this.getCell=function(e,t){var n=e<o.headerRows&&t<o.headerColumns,a=e>=o.headerRows&&t<o.headerColumns,r=e<o.headerRows&&t>=o.headerColumns;if(n){var s=["blank"];return t>0&&s.push("level"+e),{type:"blank",classNames:s.join(" "),content:""}}if(r){var i=t-o.headerColumns;return{type:"columns",classNames:["col_heading","level"+e,"col"+i].join(" "),content:o.getContent(o.columnsTable,i,e)}}if(a){var c=e-o.headerRows,l=["row_heading","level"+t,"row"+c];return{type:"index",id:"T_".concat(o.uuid,"level").concat(t,"_row").concat(c),classNames:l.join(" "),content:o.getContent(o.indexTable,c,t)}}var u=e-o.headerRows,d=t-o.headerColumns,h=["data","row"+u,"col"+d],m=o.styler?o.getContent(o.styler.displayValuesTable,u,d):o.getContent(o.dataTable,u,d);return{type:"data",id:"T_".concat(o.uuid,"row").concat(u,"_col").concat(d),classNames:h.join(" "),content:m}},this.getContent=function(e,t,n){var a=e.getColumnAt(n);if(null===a)return"";switch(o.getColumnTypeId(e,n)){case b.b.Timestamp:return o.nanosToDate(a.get(t));default:return a.get(t)}},this.dataTable=b.a.from(t),this.indexTable=b.a.from(n),this.columnsTable=b.a.from(a),this.styler=r?{caption:r.get("caption"),displayValuesTable:b.a.from(r.get("displayValues")),styles:r.get("styles"),uuid:r.get("uuid")}:void 0}return Object(u.a)(e,[{key:"rows",get:function(){return this.indexTable.length+this.columnsTable.numCols}},{key:"columns",get:function(){return this.indexTable.numCols+this.columnsTable.length}},{key:"headerRows",get:function(){return this.rows-this.dataRows}},{key:"headerColumns",get:function(){return this.columns-this.dataColumns}},{key:"dataRows",get:function(){return this.dataTable.length}},{key:"dataColumns",get:function(){return this.dataTable.numCols}},{key:"uuid",get:function(){return this.styler&&this.styler.uuid}},{key:"caption",get:function(){return this.styler&&this.styler.caption}},{key:"styles",get:function(){return this.styler&&this.styler.styles}},{key:"table",get:function(){return this.dataTable}},{key:"index",get:function(){return this.indexTable}},{key:"columnTable",get:function(){return this.columnsTable}},{key:"getColumnTypeId",value:function(e,t){return e.schema.fields[t].type.typeId}},{key:"nanosToDate",value:function(e){return new Date(e/1e6)}}]),e}(),p=function(e){return e.COMPONENT_READY="streamlit:componentReady",e.SET_COMPONENT_VALUE="streamlit:setComponentValue",e.SET_FRAME_HEIGHT="streamlit:setFrameHeight",e}(p||{}),T=Object(u.a)((function e(){Object(l.a)(this,e)}));a=T,T.API_VERSION=1,T.RENDER_EVENT="streamlit:render",T.events=new v.a,T.registeredMessageListener=!1,T.lastFrameHeight=void 0,T.setComponentReady=function(){a.registeredMessageListener||(window.addEventListener("message",a.onMessageEvent),a.registeredMessageListener=!0),a.sendBackMsg(p.COMPONENT_READY,{apiVersion:a.API_VERSION})},T.setFrameHeight=function(e){void 0===e&&(e=document.body.scrollHeight),e!==a.lastFrameHeight&&(a.lastFrameHeight=e,a.sendBackMsg(p.SET_FRAME_HEIGHT,{height:e}))},T.setComponentValue=function(e){a.sendBackMsg(p.SET_COMPONENT_VALUE,{value:e})},T.onMessageEvent=function(e){switch(e.data.type){case a.RENDER_EVENT:a.onRenderMessage(e.data)}},T.onRenderMessage=function(e){var t=e.args;null==t&&(console.error("Got null args in onRenderMessage. This should never happen"),t={});var n=e.dfs&&e.dfs.length>0?a.argsDataframeToObject(e.dfs):{};t=Object(f.a)(Object(f.a)({},t),n);var r={disabled:Boolean(e.disabled),args:t},o=new CustomEvent(a.RENDER_EVENT,{detail:r});a.events.dispatchEvent(o)},T.argsDataframeToObject=function(e){var t=e.map((function(e){var t=e.key,n=e.value;return[t,a.toArrowTable(n)]}));return Object.fromEntries(t)},T.toArrowTable=function(e){var t=e.data,n=t.data,a=t.index,r=t.columns;return new E(n,a,r)},T.sendBackMsg=function(e,t){window.parent.postMessage(Object(f.a)({isStreamlitMessage:!0,type:e},t),"*")};o.a.PureComponent;var y=n(16),w=function(e){var t=function(t){Object(d.a)(a,t);var n=Object(h.a)(a);function a(t){var r;return Object(l.a)(this,a),(r=n.call(this,t)).componentDidMount=function(){T.events.addEventListener(T.RENDER_EVENT,r.onRenderEvent),T.setComponentReady()},r.componentDidUpdate=function(){null!=r.state.componentError&&T.setFrameHeight()},r.componentWillUnmount=function(){T.events.removeEventListener(T.RENDER_EVENT,r.onRenderEvent)},r.onRenderEvent=function(e){var t=e;r.setState({renderData:t.detail})},r.render=function(){return null!=r.state.componentError?o.a.createElement("div",null,o.a.createElement("h1",null,"Component Error"),o.a.createElement("span",null,r.state.componentError.message)):null==r.state.renderData?null:o.a.createElement(e,{width:window.innerWidth,disabled:r.state.renderData.disabled,args:r.state.renderData.args})},r.state={renderData:void 0,componentError:void 0},r}return Object(u.a)(a)}(o.a.PureComponent);return t.getDerivedStateFromError=function(e){return{componentError:e}},g()(t,e)}((function(e){var t=Object(r.useState)(null),n=Object(c.a)(t,2),a=n[0],s=n[1],i=e.args,l=i.canvasWidth,u=i.canvasHeight,d=i.imageData,h=document.createElement("canvas"),m=h.getContext("2d");h.width=l,h.height=u;var g="";if(m){var f=m.createImageData(l,u);f.data.set(d),m.putImageData(f,0,0),g=h.toDataURL()}var v=function(e,t,n,a){return"\n      M 0 0\n      L ".concat(l," 0\n      L ").concat(l," ").concat(u,"\n      L 0 ").concat(u,"\n      Z\n      M ").concat(e," ").concat(t,"\n      L ").concat(e," ").concat(t+a,"\n      L ").concat(e+n," ").concat(t+a,"\n      L ").concat(e+n," ").concat(t,"\n      Z\n    ")};return Object(r.useEffect)((function(){var t=e.args,n=t.rectTop,a=t.rectLeft,r=t.rectWidth,o=t.rectHeight,i=t.boxColor,c=t.strokeWidth,l=t.lockAspect,u=new y.fabric.Canvas("c",{enableRetinaScaling:!1,backgroundImage:g,uniScaleTransform:l}),d=new y.fabric.Rect({left:a,top:n,fill:"",width:r,height:o,stroke:i,strokeWidth:c,hasRotatingPoint:!1});u.add(d);var h=d.getBoundingRect(),m=function(e,t,n,a){var r=v(e,t,n,a),o=new y.fabric.Path(r,{fill:"rgba(0,0,0,0.3)",selectable:!1,evented:!1,objectCaching:!1,fillRule:"evenodd"});return o.overlayTag=!0,o}(h.left,h.top,h.width,h.height);u.add(m),u.bringToFront(d),s(u),T.setFrameHeight()}),[l,u]),Object(r.useEffect)((function(){var t=e.args,n=t.realtimeUpdate,r=t.strokeWidth;if(a){var o=function(){a.renderAll();var e=a.getObjects().find((function(e){return"rect"===e.type}));if(e){var t=e.getBoundingRect(),n={left:t.left,top:t.top,width:t.width-r,height:t.height-r},o=a.getObjects().find((function(e){return!0===e.overlayTag}));if(o){var s=v(n.left,n.top,n.width,n.height);o.set({path:s}),a.requestRenderAll()}T.setComponentValue({coords:n})}};return n?(a.on("object:modified",o),function(){a.off("object:modified",o)}):(a.on("mouse:dblclick",o),function(){a.off("mouse:dblclick",o)})}}),[a]),o.a.createElement("canvas",{id:"c",width:l,height:u})}));n(36);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.f8ccf90e.chunk.js.map