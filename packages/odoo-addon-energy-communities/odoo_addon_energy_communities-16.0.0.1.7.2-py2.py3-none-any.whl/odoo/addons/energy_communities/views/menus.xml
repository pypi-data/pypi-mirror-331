<?xml version="1.0" encoding="UTF-8" ?>
<!--
     Copyright 2022 Som Energia & Coopdevs
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
-->
<odoo>
    <menuitem
    id="ce_root_menu"
    name="Energy Communities"
    sequence="10"
    groups="group_platform_manager"
    web_icon="energy_communities,static/description/icon.png"
  />
    <menuitem id="ce_config_menu" name="Configuration" parent="ce_root_menu" />

        <menuitem
    id="ce_config_sources_menu"
    name="Source types"
    parent="ce_config_menu"
    action="ce_utm_sources_action"
  />

        <menuitem
    id="energy_actions_menu"
    name="Energy actions"
    parent="ce_config_menu"
    action="energy_action_views"
    groups="group_platform_manager"
  />

  <!-- Hide menu items unless platform manager -->
  <record model="ir.ui.menu" id="community_maps.menu_root">
    <field name="groups_id" eval="[(6,0,[ref('group_platform_manager')])]" />
  </record>
  <record model="ir.ui.menu" id="website.menu_website_configuration">
    <field name="groups_id" eval="[(6,0,[ref('group_platform_manager')])]" />
  </record>
  <record model="ir.ui.menu" id="utm.menu_link_tracker_root">
    <field name="groups_id" eval="[(6,0,[ref('group_platform_manager')])]" />
  </record>
  <record model="ir.ui.menu" id="base.menu_board_root">
    <field name="groups_id" eval="[(6,0,[ref('group_platform_manager')])]" />
  </record>
  <record model="ir.ui.menu" id="base_rest.menu_rest_api_root">
    <field name="groups_id" eval="[(6,0,[ref('group_platform_manager')])]" />
  </record>
  <record model="ir.ui.menu" id="purchase.menu_purchase_root">
    <field name="groups_id" eval="[(6,0,[ref('group_platform_manager')])]" />
  </record>
  <record model="ir.ui.menu" id="sale.sale_menu_root">
    <field name="groups_id" eval="[(6,0,[ref('group_platform_manager')])]" />
  </record>
  <record model="ir.ui.menu" id="event.event_main_menu">
    <field name="groups_id" eval="[(6,0,[ref('group_platform_manager')])]" />
  </record>

</odoo>
