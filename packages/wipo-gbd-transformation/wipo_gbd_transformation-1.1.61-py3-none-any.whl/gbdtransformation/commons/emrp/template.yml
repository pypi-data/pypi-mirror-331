# known issues:
# Address lines do not have language codes => defaulting to application language code
# Applicants/Representatives do not have an identifier
# THTM: no MarkFeature => deduce
# No Publication Section

{% from 'navigation.tmpl' import match %}

representativ:
    identifier: {{ Representative.RepresentativeIdentifier }}
    kind: {{ Representative.RepresentativeLegalEntity}}
    fullName:
      {% call(nameline) match('FormattedNameAddress.Name.FormattedName.LastName', Representative.RepresentativeAddressBook) %}
      - text: {{ nameline }}
        languageCode: {{ nameline | guess_language('en') }}
      {% endcall %}
    fullAddress:
      {% call(adrline) match('PostalAddress', Representative.RepresentativeAddressBook) %}
      - text: {{ adrline }}
        languageCode: {{ adrline | guess_language('en') }}
      {% endcall %}
    contact:
      phone: {{ Representative.RepresentativeAddressBook.ContactInformationDetails.Phone }}
      fax: {{ Representative.RepresentativeAddressBook.ContactInformationDetails.Fax }}
      email: {{ Representative.RepresentativeAddressBook.ContactInformationDetails.Email }}
      url: {{ Representative.RepresentativeAddressBook.ContactInformationDetails.URL }}
    {% call(adrline) match('FormattedNameAddress.Address', Representative.RepresentativeAddressBook) %}
    countryCode: {{ adrline.AddressCountryCode }}
    {% endcall %}
