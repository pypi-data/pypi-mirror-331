{% macro message_category_class(category) %}
{% if category == 'error' %}
alert-danger
{% elif category == 'warning' %}
alert-warning
{% elif category == 'success' %}
alert-info
{% endif %}
{% endmacro %}

{% with messages = get_flashed_messages(with_categories=True) %}
{% if messages %}
<div class="row my-3">
    <div class="col-5">

        {% for (category, message) in messages %}
        <div class="alert {{ message_category_class(category) }}">
            <h6 class="alert-heading d-inline-flex align-items-center">{{ icon('exclamation-triangle')
                }} <span class="ps-1">{{ category }}:</span></h6>
            <p>{{ message }}</p>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}
{% endwith %}
