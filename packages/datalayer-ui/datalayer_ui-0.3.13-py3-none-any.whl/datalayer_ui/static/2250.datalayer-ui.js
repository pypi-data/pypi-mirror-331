"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[2250,5003],{20419:(e,t,n)=>{n.d(t,{E:()=>X});var o=n(18683),r=n(98754),i=n(9387),a=n(75987),l=n(89895),s=n(37706),c=n(62097),d=n(89492),u=n(71784),m=n(67004),f=n(63711),p=n(14377),g=n(69882),h=n(83303),v=n(7384),w=n(30574),y=n(14738),E=n(29028),x=n(47798),b=n(39756),T=n(11796),k=n(70639),C=n(89915),A=n(53054),V=n(38921),S=n(16950),I=n(98238),_=n(79246),P=n(72490),R=n(14809),N=n(60818),M=n(18241),L=n(45458),j=n(89462),D=n(66698),H=n(17055),F=n(75087),z=n(17402),K=n(50059),B=n(90117),$=n(71791);const J=1e3,O=new Array,U=".datalayer/ping.ipynb";function q(e){const{commands:t,extensions:n=O,kernelId:a,serviceManager:l,model:f,onSessionConnectionChanged:g}=e,[h,v]=(0,i.useState)(!0),[w,T]=(0,i.useState)(new Array),k=(0,i.useMemo)((()=>e.id||(0,z.YG)()),[e.id]),C=(0,i.useMemo)((()=>e.path||U),[e.path]),A=(0,i.useMemo)((()=>new G({commands:t})),[t]),S=(0,i.useMemo)((()=>new y.S.ContentFactory({editorFactory:A.editorServices.factoryService.newInlineEditor})),[A.editorServices.factoryService.newInlineEditor]),[I,_]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=new s.A({model:new c.X}),t=new R.x0,n=new d.C({context:{widget:t},providers:[new u.G],timeout:J}),o=new m.$({completer:e,reconciliator:n});return e.hide(),R.x0.attach(e,document.body),_(o),()=>{o.dispose(),e.dispose(),t.dispose()}}),[]);const[M,H]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=new E.k({name:"Notebook",label:"Notebook",modelName:"notebook",fileTypes:["notebook"],defaultFor:["notebook"],preferKernel:!0,autoStartDefault:!1,canStartKernel:!1,shutdownOnClose:!1,rendermime:A.rendermime,contentFactory:S,mimeTypeService:A.editorServices.mimeTypeService,notebookConfig:{...x.a.defaultNotebookConfig,recordTiming:!0}});return H(e),()=>{e.dispose(),H((t=>t===e?null:t))}}),[S,A]);const[F,q]=(0,i.useState)(null);(0,i.useEffect)((()=>{const t=I?new b.G({namespace:k}):null,n=I?(0,$.Ay)(A.commands,I,t,e.path):null;return q(t),()=>{n?.dispose(),t?.dispose(),q((e=>e===t?null:e))}}),[I,k,A.commands,e.path]);const[X,Y]=(0,i.useState)(null);(0,i.useEffect)((()=>{const e=new W(f),t=new p.o({factory:e,manager:l,path:C,kernelPreference:{shouldStart:!1,canStart:!1,autoStartDefault:!1,shutdownOnDispose:!1}});return function(e,t,n,o){const r=!n;e.sessionContext._initialize=async()=>{const t=e.sessionContext.sessionManager;await t.ready,await t.refreshRunning();const o=(0,V.I6)(t.running(),(t=>t.kernel?.id===(e.sessionContext.kernelPreference.id??"")));if(o)try{const r=t.connectTo({model:{...o,path:n??o.path,name:n??o.name},kernelConnectionOptions:{handleComms:!0}});e.sessionContext._handleNewSession(r),this._kernel?.connection?.dispose()}catch(t){return e.sessionContext._handleSessionError(t),Promise.reject(t)}return await e.sessionContext._startIfNecessary()},e.dispose=()=>{e.isDisposed||(e._isDisposed=!0,e.sessionContext.dispose(),e._disposed.emit(void 0),P.Signal.clearData(this))},r&&(e._populate=async()=>{if(e._isPopulated=!0,e._isReady=!0,e._populatedPromise.resolve(void 0),e.isDisposed)return;const t=e._model.defaultKernelName||e.sessionContext.kernelPreference.name;e.sessionContext.kernelPreference={...e.sessionContext.kernelPreference,name:t,language:e._model.defaultKernelLanguage},e.sessionContext.initialize().then((t=>{t&&e._dialogs.selectKernel(e.sessionContext.sessionContext)}))},e.initialize=async n=>{e.model.dirty=!1;const o=(new Date).toISOString(),r={path:t,name:t,type:"notebook",content:void 0,writable:!0,created:o,last_modified:o,mimetype:"application/x-ipynb+json",format:"json"};e._updateContentsModel(r),await e._populate(),e.model.sharedModel.clearUndoHistory()}),e.sessionContext.sessionChanged.connect(((e,t)=>{const n=t.newValue;console.log("Current Jupyter Session Connection.",n),o?.(n??void 0)})),e.sessionContext.kernelChanged.connect(((e,t)=>{const n=t.newValue;console.log("Current Jupyter Kernel Connection.",n),n&&!n.handleComms&&(console.log("Updating the current Kernel Connection to enforce Comms support.",n.handleComms),n.handleComms=!0)})),e.sessionContext.ready.then((()=>{o?.(e?.sessionContext.session??void 0)})),e.initialize(!n)}(t,k,C!==U?C:void 0,g),Y(t),()=>{t.dispose(),e.dispose(),Y((e=>e===t?null:e))}}),[k,l,f,g,C]),(0,i.useEffect)((()=>{X&&a&&!X.sessionContext.isDisposed&&X.sessionContext.changeKernel({id:a}).catch((e=>{console.error("Failed to change kernel model.",e)}))}),[X,a]);const[Q,Z]=(0,i.useState)(null);(0,i.useEffect)((()=>{let e=null,t=null;if(X&&(e=M?.createNew(X)??null,e)){T(n.map((t=>(t.init({notebookId:k,commands:A.commands,panel:e}),t.createNew(e,X),t.component??(0,o.jsx)(o.Fragment,{})))));const r=e.content.rendermime;t=new L.SS(X,r,{saveState:!1}),r.addFactory({safe:!0,mimeTypes:[j.a],defaultRank:1,createRenderer:e=>new D.X(e,t)},1);for(const n of e.content.widgets)if("code"===n.model.type)for(const e of n.outputArea.widgets)for(const n of Array.from(e.children()))n instanceof D.X&&(n.manager=t);v(!1)}return Z(e),e||T([]),()=>{if(t?.dispose(),e){e.content&&P.Signal.clearData(e.content);try{e.dispose()}catch(e){}}Z((t=>t===e?null:t))}}),[X,n,A.commands,M]),(0,i.useEffect)((()=>{let e=!0,t=null,n=null;return Q&&(F&&(F.has(Q)||F.add(Q).catch((e=>{console.error(`Failed to track the notebook panel '${k}'.`)}))),I&&(t=(e,t)=>{t&&t.ready.then((()=>{I.editor=t?.editor}))},n=(t,n)=>{if(!e)return;const o=Q.content.activeCell?.editor,r=new u.G,i=new d.C({context:{widget:Q,editor:o,session:n.newValue},providers:[r],timeout:J});I.editor=o,I.reconciliator=i},Q.context.sessionContext.sessionChanged.connect(n),Q.context.sessionContext.ready.then((()=>{n?.(Q.context.sessionContext,{name:"session",oldValue:null,newValue:Q.context.sessionContext.session})})),Q.content.activeCellChanged.connect(t))),()=>{e=!1,I&&(t&&Q?.content.activeCellChanged.disconnect(t),n&&Q?.context.sessionContext.sessionChanged.connect(n),I.editor=null,I.reconciliator=new d.C({context:{widget:new R.x0},providers:[new u.G],timeout:J}))}}),[I,Q,F]);const ee=(0,i.useCallback)((e=>{A.commands.processKeydownEvent(e)}),[A.commands]);return(0,o.jsxs)(o.Fragment,{children:[w.map(((e,t)=>(0,o.jsx)(r.A,{children:e},`${e}-${t}`))),h?(0,o.jsx)(B.a,{},"notebook-loader"):Q?(0,o.jsx)(r.A,{sx:{height:"100%"},onKeyDownCapture:ee,children:(0,o.jsx)(K.j,{id:k,children:Q},"notebook-container")}):(0,o.jsx)(N.l,{variant:"critical",description:"Unable to create the notebook view.",hideTitle:!0},"notebook-error")]})}class G{_commands;_editorServices;_rendermime;constructor(e={}){this._commands=e.commands??new S.J;const t=new l.T9;for(const e of l.T9.getDefaultLanguages())t.addLanguage(e);t.addLanguage({name:"ipythongfm",mime:"text/x-ipythongfm",load:async()=>(await Promise.all([n.e(6636),n.e(9946),n.e(2899),n.e(5949)]).then(n.bind(n,15949))).markdown({codeLanguages:e=>t.findBest(e)})});const o=C.dn.filter((e=>"text/javascript"!==e.mimeTypes[0]));o.push(h.rendererFactory),o.push(g.rendererFactory),this._rendermime=new A.K({initialFactories:o,latexTypesetter:new w.p,markdownParser:(0,v.createMarkdownParser)(t)});const r=new l.mN(t),i=new l.k8;for(const e of l.k8.getDefaultThemes())i.addTheme(e);const a=new l.Ez({extensions:(()=>{const e=new l.AG;for(const t of l.AG.getDefaultExtensions({themes:i}))e.addExtension(t);return e.addExtension({name:"shared-model-binding",factory:e=>{const t=e.model.sharedModel;return l.AG.createImmutableExtension((0,l.rX)({ytext:t.ysource,undoManager:t.undoManager??void 0}))}}),e})(),languages:t});this._editorServices={factoryService:a,mimeTypeService:r}}get commands(){return this._commands}get editorServices(){return this._editorServices}get rendermime(){return this._rendermime}}class W extends k.p{model;constructor(e){super(),this.model=e}createNew(e){return this.model}}function X(e){const{Toolbar:t,children:n,cellSidebarMargin:l=120,collaborationServer:s,commands:c,extensions:d,height:u="100vh",maxHeight:m="100vh",id:p,nbformat:g,onNotebookModelChanged:h,onSessionConnection:v,path:w,readonly:y=!1,serviceManager:E,startDefaultKernel:x=!1,url:b}=e,k=function(e){const{kernels:t,requestedKernelId:n,startDefaultKernel:o=!1}=e,[r,a]=(0,i.useState)(void 0);return(0,i.useEffect)((()=>{let e,r=!0;return(async()=>{let i;if(await t.ready,n)for(const e of t.running())if(e.id===n){i=n;break}!i&&o&&r&&(console.log("Starting new kernel."),e=await t.startNew(),r?i=e.id:e.dispose()),r&&a(i)})(),()=>{r=!1,e&&(console.log(`Shutting down kernel '${e.id}'.`),e.shutdown().catch((t=>{console.warn(`Failed to shutdown kernel '${e?.id}'.`,t)})).finally((()=>{e?.dispose()})))}}),[t,n,o]),r}({requestedKernelId:e.kernelId,kernels:E.kernels,startDefaultKernel:x}),C=function(e){const{collaborationServer:t,nbformat:n,readonly:o=!1,url:r}=e,[l,s]=(0,i.useState)(null);return(0,i.useEffect)((()=>{let e=!0;const i=new _.DisposableSet;if(t){let e=null,n=new I.PromiseDelegate,r=!0,l=null;const c=t=>{t.code>1e3&&(console.error("Connection with the room has been closed unexpectedly.",t),e?.disconnect(),4002===t.code&&(e?.destroy(),n.reject("Connection closed."),n=new I.PromiseDelegate,r&&Promise.all([u(),n.promise,(0,z.yy)(500)]).catch((e=>{console.error("Failed to setup collaboration connection.",e)}))))},d=t=>{t&&(e?.off("sync",d),n.resolve(void 0))},u=async()=>{l=new a.Xn;const{ydoc:n,awareness:r}=l;let i="",u="";const m={};if("jupyter"==t.type){const{path:e,serverSettings:n}=t,o=await(0,H.e_)("json","notebook",e,n);i=f.URLExt.join(n.wsUrl,H.Ir),u=`${o.format}:${o.type}:${o.fileId}`,m.sessionId=o.sessionId,n.token&&(m.token=n.token)}else if("datalayer"==t.type){const{baseURL:e,roomName:n,token:o}=t;u=n;const r=f.URLExt.join(e,"/api/spacer/v1/rooms");i=r.replace(/^http/,"ws"),m.sessionId=await(0,F._)({url:f.URLExt.join(r,u),token:o}),m.token=o}if(m.sessionId){e=new M.$R(i,u,n,{disableBc:!0,params:m,awareness:r}),e.on("sync",d),e.on("connection-close",c),console.log("Collaboration is setup with websocket provider.");const t=new T.x({collaborationEnabled:!0,disableDocumentWideUndoRedo:!0,sharedModel:l});t.readOnly=o,s(t)}};Promise.all([u(),n.promise]).then((()=>{if(e){const t=()=>{(e.synced?Promise.resolve():n.promise).finally((()=>{e.off("sync",d),e.off("connection-close",c),e.disconnect(),e.destroy()}))};r?i.add(Object.freeze({dispose:t,isDisposed:!1})):t()}})).catch((e=>{console.error("Failed to setup collaboration connection.",e)}))}else{const t=e=>{const t=new T.x;e&&(e.cells.forEach((e=>{e.metadata.editable=!o})),t.fromJSON(e)),t.readOnly=o,s(t)};!n&&r?async function(e){return fetch(e).then((e=>e.text())).then((e=>JSON.parse(e)))}(r).then((n=>{e&&t(n)})):t(n)}return()=>{e=!1,i.dispose()}}),[t,n,o,r]),l}({collaborationServer:s,nbformat:g,readonly:y,url:b});return(0,i.useEffect)((()=>{h?.(C)}),[C,h]),(0,o.jsxs)(r.A,{style:{height:u,width:"100%",position:"relative"},id:"dla-Jupyter-Notebook",children:[t&&(0,o.jsx)(t,{notebookId:p}),(0,o.jsxs)(r.A,{className:"dla-Box-Notebook",sx:{height:u,maxHeight:m,width:"100%",overflowY:"hidden","& .datalayer-NotebookPanel-header":{minHeight:"50px"},"& .jp-Notebook":{flex:"1 1 auto !important",height:"100%",overflowY:"scroll"},"& .jp-NotebookPanel":{height:"100% !important",width:"100% !important"},"& .jp-Toolbar":{display:"none",zIndex:0},"& .jp-Toolbar .jp-HTMLSelect.jp-DefaultStyle select":{fontSize:"14px"},"& .jp-Toolbar > .jp-Toolbar-responsive-opener":{display:"none"},"& .jp-Toolbar-kernelName":{display:"none"},"& .jp-Cell":{width:`calc(100% - ${l}px)`},"& .jp-Notebook-footer":{width:`calc(100% - ${l+82}px)`},"& .jp-CodeMirrorEditor":{cursor:"text !important"},".dla-Box-Notebook":{position:"relative"}},children:[n,C&&E&&(0,o.jsx)(q,{commands:c,id:p,extensions:d,model:C,serviceManager:E,kernelId:k,onSessionConnectionChanged:v,path:w})]})]})}},5700:(e,t,n)=>{n.d(t,{N:()=>c});var o=n(18683),r=n(38621),i=n(98754),a=n(6681),l=n(71791),s=n(84604);function c(e){const{commands:t,model:n}=e;return(0,o.jsxs)(i.A,{className:s.VL,sx:{"& p":{marginBottom:"0 !important"}},children:[(0,o.jsx)(a.K,{size:"small",color:"secondary","aria-label":"Run cell",title:"Run cell",onClick:e=>{e.preventDefault(),t.execute(l.nx.run).catch((e=>{console.error("Failed to run cell.",e)}))},icon:r.udU,variant:"invisible"}),(0,o.jsx)(a.K,{size:"small",color:"secondary","aria-label":"Add code cell above",title:"Add code cell above",onClick:e=>{e.preventDefault(),t.execute(l.nx.insertAbove).catch((e=>{console.error("Failed to insert code cell above.",e)}))},icon:r.Mtm,variant:"invisible"}),(0,o.jsx)(a.K,{size:"small",color:"secondary","aria-label":"Add markdown cell above",title:"Add markdown cell above",onClick:e=>{e.preventDefault(),t.execute(l.nx.insertAbove,{cellType:"markdown"}).catch((e=>{console.error("Failed to insert markdown cell above.",e)}))},icon:r.Mtm,variant:"invisible"}),"code"===n.type?(0,o.jsx)(a.K,{"aria-label":"Convert to markdow cell",title:"Convert to markdow cell",icon:r.dHM,size:"small",variant:"invisible",onClick:e=>{e.preventDefault(),t.execute(l.nx.changeCellTypeToMarkdown).catch((e=>{console.error("Failed to change cell type to markdown.",e)}))}}):(0,o.jsx)(a.K,{"aria-label":"Convert to code cell",title:"Convert to code cell",icon:r.dHM,variant:"invisible",size:"small",onClick:e=>{e.preventDefault(),t.execute(l.nx.changeCellTypeToCode).catch((e=>{console.error("Failed to change cell type to code.",e)}))}}),(0,o.jsx)(a.K,{size:"small",color:"secondary","aria-label":"Add markdown cell below",title:"Add markdown cell below",onClick:e=>{e.preventDefault(),t.execute(l.nx.insertBelow,{cellType:"markdown"}).catch((e=>{console.error("Failed to insert markdown cell below.",e)}))},icon:r.D3D,variant:"invisible"}),(0,o.jsx)(a.K,{size:"small",color:"secondary","aria-label":"Add code cell above",title:"Add code cell above",onClick:e=>{e.preventDefault(),t.execute(l.nx.insertBelow).catch((e=>{console.error("Failed to insert code cell below.",e)}))},icon:r.D3D,variant:"invisible"}),(0,o.jsx)(a.K,{size:"small",color:"error","aria-label":"Delete cell",title:"Delete cell",onClick:e=>{e.preventDefault(),t.execute(l.nx.deleteCells).catch((e=>{console.error("Failed to delete cells.",e)}))},icon:r.uv5,variant:"invisible"})]})}},89462:(e,t,n)=>{n.d(t,{a:()=>r,u:()=>i});var o=n(14809);const r="application/vnd.jupyter.widget-view+json";class i extends o.x0{constructor(e,t){super(),this.mimeType=e.mimeType,this._manager=t}async renderModel(e){const t=e.data[this.mimeType];if(!this._manager.has_model(t.model_id))return this.node.textContent="Error creating widget: could not find model",void this.addClass("jupyter-widgets");try{const e=await this._manager.get_model(t.model_id),n=await this._manager.create_view(e);o.x0.attach(n.luminoWidget,this.node)}catch(e){console.log("Error displaying widget"),console.log(e),this.node.textContent="Error displaying widget",this.addClass("jupyter-widgets")}}mimeType;_manager}},7384:(e,t,n)=>{n.r(t),n.d(t,{createMarkdownParser:()=>c,default:()=>d});var o=n(98238),r=n(63711),i=n(89895),a=n(5279);new o.Token("@jupyterlab/mermaid:IMermaidManager","a manager for rendering mermaid text-based diagrams");const l=new o.Token("@jupyterlab/mermaid:IMermaidMarkdown","a manager for rendering mermaid text-based diagrams in markdown fenced code blocks"),s="```~~~";function c(e,t){return{render:n=>u.render(n,e,t)}}const d={id:"@jupyterlab/markedparser-extension:plugin",description:"Provides the Markdown parser.",autoStart:!0,provides:a.co,requires:[i.SW],optional:[l],activate:(e,t,n)=>c(t,{blocks:n?[n]:[]})};var u;!function(e){let t=null,i=null,a=[],l=null,c={},d=new r.LruCache;async function u(e){if(i)return i;if(t)return await t.promise;a=(null==e?void 0:e.blocks)||[],a=a.sort(((e,t)=>{var n,o;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(o=t.rank)&&void 0!==o?o:1/0)})),t=new o.PromiseDelegate;const[{marked:r,Renderer:l},s]=await Promise.all([n.e(4020).then(n.bind(n,64020)),m()]);for(const e of s)r.use(e);return c={async:!0,gfm:!0,walkTokens:p,renderer:f(l)},i=r,t.resolve(i),i}async function m(){return Promise.all([(async()=>(await n.e(8009).then(n.bind(n,48009))).gfmHeadingId())(),(async()=>(await n.e(2167).then(n.bind(n,52167))).mangle())()])}function f(e){const t=new e,n=t.code;return t.code=(e,o)=>{for(const t of a)if(t.languages.includes(o)){const n=t.render(e);if(null!=n)return n}const r=`${o}${s}${e}${s}`,i=d.get(r);return null!=i?i:n.call(t,e,o)},t}async function p(e){if("code"===e.type){if(e.lang)for(const t of a)if(t.languages.includes(e.lang))return void await t.walk(e.text);await async function(e){const{lang:t,text:n}=e;if(!t||!l)return;const o=`${t}${s}${n}${s}`;if(d.get(o))return;const r=document.createElement("div");try{await l.highlight(n,l.findBest(t),r);const e=`<pre><code class="language-${t}">${r.innerHTML}</code></pre>`;d.set(o,e)}catch(e){console.error(`Failed to highlight ${t} code`,e)}finally{r.remove()}}(e)}}e.render=async function(e,t,n){return l=t,i||(i=await u(n)),i(e,c)},e.initializeMarked=u}(u||(u={}))},93054:(e,t,n)=>{n.d(t,{O7:()=>u});var o=n(9387),r=n(29187);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(null,arguments)}const a=e=>o.createElement(r.M,i({containerWidth:"full",padding:"none",columnGap:"none",rowGap:"none",_slotsConfig:{header:l,footer:d}},e));a.displayName="Root",a.displayName="SplitPageLayout";const l=({padding:e="normal",divider:t="line",...n})=>o.createElement(r.M.Header,i({padding:e,divider:t},n));l.displayName="Header",l.displayName="SplitPageLayout.Header";const s=({width:e="large",padding:t="normal",...n})=>o.createElement(r.M.Content,i({width:e,padding:t},n));s.displayName="Content",s.displayName="SplitPageLayout.Content";const c=({position:e="start",sticky:t=!0,padding:n="normal",divider:a="line",...l})=>o.createElement(r.M.Pane,i({position:e,sticky:t,padding:n,divider:a},l));c.displayName="Pane",c.displayName="SplitPageLayout.Pane";const d=({padding:e="normal",divider:t="line",...n})=>o.createElement(r.M.Footer,i({padding:e,divider:t},n));d.displayName="Footer",d.displayName="SplitPageLayout.Footer";const u=Object.assign(a,{Header:l,Content:s,Pane:c,Footer:d})},43049:(e,t,n)=>{n.d(t,{G:()=>$});var o=n(73990),r=n(49064),i=n(9387),a=n(22462),l=n(79026),s=n(20938),c=n(76818),d=n(44983),u=n(2020),m=n(41896),f=n(92209),p=n(27432),g=n(78602);function h(e){var t,n,o;const r=e.getAttribute("aria-label"),i=e.getAttribute("aria-labelledby");return r||(i?null!==(t=null===(n=document.getElementById(i))||void 0===n?void 0:n.textContent)&&void 0!==t?t:"":null!==(o=e.textContent)&&void 0!==o?o:"")}var v=n(27907),w=n(98530),y=n(19560);function E(e,t){const n=e.closest("[role=tree]");if(!n)return;const o=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,(e=>e instanceof HTMLElement&&"treeitem"===e.getAttribute("role")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP));let r=o.firstChild();for(;r!==e;)r=o.nextNode();let i="next"===t?o.nextNode():o.previousNode();for(;i instanceof HTMLElement&&null!==(a=i.parentElement)&&void 0!==a&&a.closest("[role=treeitem][aria-expanded=false]");){var a;i="next"===t?o.nextNode():o.previousNode()}return i instanceof HTMLElement?i:void 0}function x(e){const t=e.querySelector("[role=treeitem]");return t instanceof HTMLElement?t:void 0}function b(e){const t=e.closest("[role=group]"),n=null==t?void 0:t.closest("[role=treeitem]");return n instanceof HTMLElement?n:void 0}const T={height:32};function k(e,t){var n,o;const r=(0,w.B)(e),{height:i}=null!==(n=null==t?void 0:t.getBoundingClientRect())&&void 0!==n?n:T,a=null!==(o=null==r?void 0:r.clientHeight)&&void 0!==o?o:window.innerHeight;return Math.floor(a/i)}var C=n(78184),A=n(81626);const V=i.createContext({announceUpdate:()=>{},expandedStateCache:{current:new Map}}),S=i.createContext({itemId:"",level:1,isSubTreeEmpty:!1,setIsSubTreeEmpty:()=>{},isExpanded:!1,setIsExpanded:()=>{},leadingVisualId:"",trailingVisualId:""}),I=a.Ay.ul.withConfig({displayName:"TreeView__UlBox",componentId:"sc-4ex6b6-0"})(["list-style:none;padding:0;margin:0;.PRIVATE_TreeView-item{outline:none;&:focus-visible > div,&.focus-visible > div{box-shadow:inset 0 0 0 2px ",";@media (forced-colors:active){outline:2px solid HighlightText;outline-offset:-2;}}&[data-has-leading-action]{--has-leading-action:1;}}.PRIVATE_TreeView-item-container{--level:1;--toggle-width:1rem;--min-item-height:2rem;position:relative;display:grid;--leading-action-width:calc(var(--has-leading-action,0) * 1.5rem);--spacer-width:calc(calc(var(--level) - 1) * (var(--toggle-width) / 2));grid-template-columns:var(--spacer-width) var(--leading-action-width) var(--toggle-width) 1fr;grid-template-areas:'spacer leadingAction toggle content';width:100%;font-size:",";color:",";border-radius:",";cursor:pointer;&:hover{background-color:",";@media (forced-colors:active){outline:2px solid transparent;outline-offset:-2px;}}@media (pointer:coarse){--toggle-width:1.5rem;--min-item-height:2.75rem;}&:has(.PRIVATE_TreeView-item-skeleton):hover{background-color:transparent;cursor:default;@media (forced-colors:active){outline:none;}}}&[data-omit-spacer='true'] .PRIVATE_TreeView-item-container{grid-template-columns:0 0 0 1fr;}.PRIVATE_TreeView-item[aria-current='true'] > .PRIVATE_TreeView-item-container{background-color:",";&::after{content:'';position:absolute;top:calc(50% - 0.75rem);left:-",";width:0.25rem;height:1.5rem;background-color:",";border-radius:",";@media (forced-colors:active){background-color:HighlightText;}}}.PRIVATE_TreeView-item-toggle{grid-area:toggle;display:flex;justify-content:center;align-items:flex-start;padding-top:calc(var(--min-item-height) / 2 - ","px / 2);height:100%;color:",";}.PRIVATE_TreeView-item-toggle--hover:hover{background-color:",";}.PRIVATE_TreeView-item-toggle--end{border-top-left-radius:",";border-bottom-left-radius:",";}.PRIVATE_TreeView-item-content{grid-area:content;display:flex;height:100%;padding:0 ",";gap:",";line-height:var(--custom-line-height,var(--text-body-lineHeight-medium,1.4285));padding-top:calc((var(--min-item-height) - var(--custom-line-height,1.3rem)) / 2);padding-bottom:calc((var(--min-item-height) - var(--custom-line-height,1.3rem)) / 2);}.PRIVATE_TreeView-item-content-text{flex:1 1 auto;width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;}.PRIVATE_TreeView-item-visual{display:flex;align-items:center;color:",";height:var(--custom-line-height,1.3rem);}.PRIVATE_TreeView-item-leading-action{display:flex;color:",";grid-area:leadingAction;}.PRIVATE_TreeView-item-level-line{width:100%;height:100%;border-right:1px solid;border-color:",";}@media (hover:hover){.PRIVATE_TreeView-item-level-line{border-color:transparent;}&:hover .PRIVATE_TreeView-item-level-line,&:focus-within .PRIVATE_TreeView-item-level-line{border-color:",";}}.PRIVATE_TreeView-directory-icon{display:grid;color:",";}.PRIVATE_VisuallyHidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0;}",""],(0,u.Jt)("colors.accent.fg"),(0,u.Jt)("fontSizes.1"),(0,u.Jt)("colors.fg.default"),(0,u.Jt)("radii.2"),(0,u.Jt)("colors.actionListItem.default.hoverBg"),(0,u.Jt)("colors.actionListItem.default.selectedBg"),(0,u.Jt)("space.2"),(0,u.Jt)("colors.accent.fg"),(0,u.Jt)("radii.2"),12,(0,u.Jt)("colors.fg.muted"),(0,u.Jt)("colors.treeViewItem.chevron.hoverBg"),(0,u.Jt)("radii.2"),(0,u.Jt)("radii.2"),(0,u.Jt)("space.2"),(0,u.Jt)("space.2"),(0,u.Jt)("colors.fg.muted"),(0,u.Jt)("colors.fg.muted"),(0,u.Jt)("colors.border.subtle"),(0,u.Jt)("colors.border.subtle"),(0,u.Jt)("colors.treeViewItem.directory.fill"),g.A),_=({"aria-label":e,"aria-labelledby":t,children:n,flat:o,className:r})=>{const a=i.useRef(null),l=i.useRef(!1),[s,c]=i.useState(""),u=i.useCallback((e=>{c(e)}),[]),m=(0,i.useCallback)((()=>{l.current=!0}),[]);(0,i.useEffect)((()=>{function e(){l.current=!1}return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[]),function({containerRef:e,mouseDownRef:t}){(0,v.G)({containerRef:e,bindKeys:y.z0.ArrowVertical|y.z0.ArrowHorizontal|y.z0.HomeAndEnd|y.z0.Backspace|y.z0.PageUpDown,preventScroll:!0,getNextFocusable:(e,t,n)=>{var o;if(t instanceof HTMLElement){try{if(t.closest("dialog:modal"))return}catch{}return null!==(o=function(e,t){switch(`${function(e){if("treeitem"!==e.getAttribute("role"))throw new Error("Element is not a treeitem");switch(e.getAttribute("aria-expanded")){case"true":return"open";case"false":return"closed";default:return"end"}}(e)} ${t.key}`){case"open ArrowRight":return x(e);case"open ArrowLeft":case"closed ArrowRight":case"end ArrowRight":return;case"closed ArrowLeft":case"end ArrowLeft":return b(e)}switch(t.key){case"ArrowUp":return E(e,"previous");case"ArrowDown":return E(e,"next");case"Backspace":return b(e);case"Home":return function(e){const t=e.closest("[role=tree]"),n=null==t?void 0:t.querySelector("[role=treeitem]");return n instanceof HTMLElement?n:void 0}(e);case"End":return function(e){const t=e.closest("[role=tree]"),n=Array.from((null==t?void 0:t.querySelectorAll("[role=treeitem]"))||[]);if(0===n.length)return;let o=n.length-1,r=n[o];for(;o>0&&r instanceof HTMLElement&&null!==(i=r.parentElement)&&void 0!==i&&i.closest("[role=treeitem][aria-expanded=false]");){var i;o-=1,r=n[o]}return r instanceof HTMLElement?r:void 0}(e);case"PageUp":return function(e){const t=e.closest('[role="tree"]');if(!t)return;const n=Array.from(t.querySelectorAll('[role="treeitem"]'));if(0===n.length)return;const o=k(t,n[0].firstElementChild),r=Math.floor(n.indexOf(e)/o),i=n.indexOf(e)-o*r;return n[Math.max(0,(r-1)*o+i)]}(e);case"PageDown":return function(e){const t=e.closest('[role="tree"]');if(!t)return;const n=Array.from(t.querySelectorAll('[role="treeitem"]'));if(0===n.length)return;const o=k(t,n[0].firstElementChild),r=Math.floor(n.indexOf(e)/o),i=n.indexOf(e)-o*r;return n[Math.min(n.length-1,(r+1)*o+i)]}(e)}}(t,n))&&void 0!==o?o:t}},focusInStrategy:()=>{var n,o,r;if(t.current)return;const i=null===(n=e.current)||void 0===n?void 0:n.querySelector("[aria-current]"),a=null===(o=e.current)||void 0===o?void 0:o.querySelector('[role="treeitem"]');return i instanceof HTMLElement?i:document.activeElement instanceof HTMLElement&&null!==(r=e.current)&&void 0!==r&&r.contains(document.activeElement)&&"treeitem"===document.activeElement.getAttribute("role")?document.activeElement:a instanceof HTMLElement?a:void 0}})}({containerRef:a,mouseDownRef:l}),function({containerRef:e,onFocusChange:t}){const n=i.useRef(""),o=i.useRef(0),r=i.useRef(t),{safeSetTimeout:a,safeClearTimeout:l}=(0,f.A)();i.useEffect((()=>{r.current=t}),[t]);const s=i.useCallback((t=>{if(!t)return;if(!e.current)return;const n=e.current,o=Array.from(n.querySelectorAll('[role="treeitem"]')),i=o.findIndex((e=>e===document.activeElement));let a=(s=i,(l=o).map(((e,t)=>l[(s+t)%l.length])));var l,s;1===t.length&&(a=a.slice(1));const c=a.find((e=>h(e).toLowerCase().startsWith(t.toLowerCase())));c&&r.current(c)}),[e]);i.useEffect((()=>{if(!e.current)return;const t=e.current;function r(e){!e.key||e.key.length>1||" "===e.key||e.ctrlKey||e.altKey||e.metaKey||(n.current+=e.key,s(n.current),l(o.current),o.current=a((()=>n.current=""),300),e.preventDefault(),e.stopPropagation())}return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)}),[e,s,l,a])}({containerRef:a,onFocusChange:e=>{e instanceof HTMLElement&&e.focus()}});const p=i.useRef(null);return null===p.current&&(p.current=new Map),i.createElement(V.Provider,{value:{announceUpdate:u,expandedStateCache:p}},i.createElement(i.Fragment,null,i.createElement(d.A,{role:"status","aria-live":"polite","aria-atomic":"true"},s),i.createElement(I,{ref:a,role:"tree","aria-label":e,"aria-labelledby":t,"data-omit-spacer":o,onMouseDown:m,className:r},n)))};_.displayName="Root",_.displayName="TreeView";const P=i.forwardRef((({id:e,containIntrinsicSize:t,current:n=!1,defaultExpanded:a,expanded:l,onExpandedChange:s,onSelect:c,children:d,className:u,"aria-label":f,"aria-labelledby":g},h)=>{const[v,w]=(0,p.H)(d,{leadingAction:z,leadingVisual:H,trailingVisual:F}),{expandedStateCache:y}=i.useContext(V),E=(0,m.B)(),x=(0,m.B)(),b=(0,m.B)(),[T,k]=function({name:e="custom",defaultValue:t,value:n,onChange:o}){const[r,a]=i.useState(null!=n?n:t),l=i.useRef(null),s=i.useRef(o);i.useEffect((()=>{s.current=o})),null===l.current&&(l.current=void 0!==n);const c=i.useCallback((e=>{var t;const n="function"==typeof e?e(r):e;!1===l.current&&a(n),null===(t=s.current)||void 0===t||t.call(s,n)}),[r]);return i.useEffect((()=>{l.current,l.current}),[e,n]),!0===l.current?[n,c]:[r,c]}({name:e,defaultValue:()=>{var t,o,r;return null!==(t=null!==(o=null===(r=y.current)||void 0===r?void 0:r.get(e))&&void 0!==o?o:a)&&void 0!==t?t:n},value:l,onChange:s}),{level:C}=i.useContext(S),{hasSubTree:A,subTree:I,childrenWithoutSubTree:_}=function(e){return i.useMemo((()=>{const t=i.Children.toArray(e).find((e=>i.isValidElement(e)&&e.type===N));return{subTree:t,childrenWithoutSubTree:i.Children.toArray(e).filter((e=>!(i.isValidElement(e)&&e.type===N))),hasSubTree:Boolean(t)}}),[e])}(w),[P,M]=i.useState(!A),[L,j]=i.useState(!1),D=i.useCallback((t=>{var n;k(t),null===(n=y.current)||void 0===n||n.set(e,t)}),[e,k,y]),K=i.useCallback((e=>{D(!T),null==e||e.stopPropagation()}),[T,D]),B=i.useCallback((e=>{switch(e.key){case"Enter":case" ":c?c(e):K(e),e.stopPropagation();break;case"ArrowRight":if(e.altKey||e.metaKey)return;e.preventDefault(),e.stopPropagation(),D(!0);break;case"ArrowLeft":if(e.altKey||e.metaKey)return;e.preventDefault(),e.stopPropagation(),D(!1)}}),[c,D,K]);return i.createElement(S.Provider,{value:{itemId:e,level:C+1,isSubTreeEmpty:P,setIsSubTreeEmpty:M,isExpanded:T,setIsExpanded:D,leadingVisualId:x,trailingVisualId:b}},i.createElement("li",{className:(0,r.A)("PRIVATE_TreeView-item",u),ref:h,tabIndex:0,id:e,role:"treeitem","aria-label":f,"aria-labelledby":f?void 0:g||E,"aria-describedby":`${x} ${b}`,"aria-level":C,"aria-expanded":P?void 0:T,"aria-current":n?"true":void 0,"aria-selected":L?"true":"false","data-has-leading-action":!!v.leadingAction||void 0,onKeyDown:B,onFocus:e=>{var t;null===(t=e.currentTarget.firstElementChild)||void 0===t||t.scrollIntoView({block:"nearest",inline:"nearest"}),j(!0),e.stopPropagation()},onBlur:()=>j(!1),onClick:e=>{c?c(e):K(e),e.stopPropagation()},onAuxClick:e=>{c&&1===e.button&&c(e),e.stopPropagation()}},i.createElement("div",{className:"PRIVATE_TreeView-item-container",style:{"--level":C,contentVisibility:t?"auto":void 0,containIntrinsicSize:t}},i.createElement("div",{style:{gridArea:"spacer",display:"flex"}},i.createElement(R,{level:C})),v.leadingAction,A?i.createElement("div",{className:(0,r.A)("PRIVATE_TreeView-item-toggle",c&&"PRIVATE_TreeView-item-toggle--hover",1===C&&"PRIVATE_TreeView-item-toggle--end"),onClick:e=>{c&&K(e)}},T?i.createElement(o.D3D,{size:12}):i.createElement(o.vKP,{size:12})):null,i.createElement("div",{id:E,className:"PRIVATE_TreeView-item-content"},v.leadingVisual,i.createElement("span",{className:"PRIVATE_TreeView-item-content-text"},_),v.trailingVisual)),I))})),R=({level:e})=>i.createElement("div",{style:{width:"100%",display:"flex"}},Array.from({length:e-1}).map(((e,t)=>i.createElement("div",{key:t,className:"PRIVATE_TreeView-item-level-line"}))));R.displayName="LevelIndicatorLines",P.displayName="TreeView.Item";const N=({count:e,state:t,children:n})=>{const{announceUpdate:o}=i.useContext(V),{itemId:r,isExpanded:a,isSubTreeEmpty:l,setIsSubTreeEmpty:s}=i.useContext(S),c=i.useRef(null),d=i.useRef(null),[u,m]=i.useState(!1),p=function(e){const t=i.useRef(e);return i.useEffect((()=>{t.current=e}),[e]),t.current}(t),{safeSetTimeout:g}=(0,f.A)();return i.useEffect((()=>{void 0!==t&&"done"!==t||(l||n?l&&n&&s(!1):s(!0))}),[t,l,s,n]),i.useEffect((()=>{if("loading"===p&&"done"===t){var e;const t=document.getElementById(r);if(!t)return;const n=h(t);if(null!==(e=d.current)&&void 0!==e&&e.childElementCount?o(`${n} content loaded`):o(`${n} is empty`),u){const e=x(t);g(e?()=>{e.focus()}:()=>{t.focus()}),m(!1)}}}),[u,p,t,r,o,d,g]),i.useEffect((()=>{function e(){m(!0)}function t(e){e.relatedTarget&&m(!1)}const n=c.current;if(n)return n.addEventListener("focus",e),n.addEventListener("blur",t),()=>{n.removeEventListener("focus",e),n.removeEventListener("blur",t)}}),[c,t]),a?i.createElement("ul",{role:"group",style:{listStyle:"none",padding:0,margin:0},ref:d},"loading"===t?i.createElement(D,{ref:c,count:e}):n):null};N.displayName="SubTree",N.displayName="TreeView.SubTree";const M=a.Ay.span.attrs({className:"PRIVATE_TreeView-item-skeleton"}).withConfig({displayName:"TreeView__StyledSkeletonItemContainer",componentId:"sc-4ex6b6-1"})(["display:flex;align-items:center;column-gap:0.5rem;height:2rem;@media (pointer:coarse){height:2.75rem;}&:nth-of-type(5n + 1){--tree-item-loading-width:67%;}&:nth-of-type(5n + 2){--tree-item-loading-width:47%;}&:nth-of-type(5n + 3){--tree-item-loading-width:73%;}&:nth-of-type(5n + 4){--tree-item-loading-width:64%;}&:nth-of-type(5n + 5){--tree-item-loading-width:50%;}"]),L=(0,a.Ay)(A.r).withConfig({displayName:"TreeView__StyledSkeletonText",componentId:"sc-4ex6b6-2"})(["width:var(--tree-item-loading-width,67%);"]),j=()=>i.createElement(M,null,i.createElement(C.N,{size:16,square:!0}),i.createElement(L,null));j.displayName="SkeletonItem";const D=i.forwardRef((({count:e},t)=>{const n=(0,m.B)();return e?i.createElement(P,{id:n,ref:t},Array.from({length:e}).map(((e,t)=>i.createElement(j,{"aria-hidden":!0,key:t}))),i.createElement("div",{className:"PRIVATE_VisuallyHidden"},"Loading ",e," items")):i.createElement(P,{id:n,ref:t},i.createElement(H,null,i.createElement(s.A,{size:"small"})),i.createElement(c.A,{sx:{color:"fg.muted"}},"Loading..."))})),H=e=>{const{isExpanded:t,leadingVisualId:n}=i.useContext(S),o="function"==typeof e.children?e.children({isExpanded:t}):e.children;return i.createElement(i.Fragment,null,i.createElement("div",{className:"PRIVATE_VisuallyHidden","aria-hidden":!0,id:n},e.label),i.createElement("div",{className:"PRIVATE_TreeView-item-visual","aria-hidden":!0},o))};H.displayName="TreeView.LeadingVisual";const F=e=>{const{isExpanded:t,trailingVisualId:n}=i.useContext(S),o="function"==typeof e.children?e.children({isExpanded:t}):e.children;return i.createElement(i.Fragment,null,i.createElement("div",{className:"PRIVATE_VisuallyHidden","aria-hidden":!0,id:n},e.label),i.createElement("div",{className:"PRIVATE_TreeView-item-visual","aria-hidden":!0},o))};F.displayName="TreeView.TrailingVisual";const z=e=>{const{isExpanded:t}=i.useContext(S),n="function"==typeof e.children?e.children({isExpanded:t}):e.children;return i.createElement(i.Fragment,null,i.createElement("div",{className:"PRIVATE_VisuallyHidden","aria-hidden":!0},e.label),i.createElement("div",{className:"PRIVATE_TreeView-item-leading-action","aria-hidden":!0},n))};z.displayName="TreeView.LeadingAction";const K=()=>{const{isExpanded:e}=i.useContext(S),t=e?o.OpE:o.mL$;return i.createElement("div",{className:"PRIVATE_TreeView-directory-icon"},i.createElement(t,null))};K.displayName="DirectoryIcon";const B=({title:e="Error",children:t,onRetry:n,onDismiss:o})=>{const{itemId:r,setIsExpanded:a}=i.useContext(S);return i.createElement("div",{onKeyDown:e=>{["Backspace","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter"].includes(e.key)&&e.stopPropagation()}},i.createElement(l.K,{title:e,onClose:e=>{setTimeout((()=>{const e=document.getElementById(r);null==e||e.focus()})),"confirm"===e?null==n||n():(a(!1),null==o||o())},confirmButtonContent:"Retry",cancelButtonContent:"Dismiss"},t))};B.displayName="ErrorDialog",B.displayName="TreeView.ErrorDialog";const $=Object.assign(_,{Item:P,SubTree:N,LeadingAction:z,LeadingVisual:H,TrailingVisual:F,DirectoryIcon:K,ErrorDialog:B})},43:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(9387);const r={small:16,medium:32,large:64};function i({title:e,titleId:t,size:n,...i},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 72",fill:"currentColor","aria-hidden":"true",ref:a,width:n?"string"==typeof n?r[n]:n:"16px","aria-labelledby":t},i),e?o.createElement("title",{id:t},e):null,o.createElement("path",{fill:"#D0CFCE",d:"M31.853 29.874V12.521H42.15v17.36h.048l4.051.002h13.357V40.18H46.256l-4.107-.003v18.675H31.853V40.17h-.1l-3.817-.002H14V29.87h13.933l3.836.003z"}),o.createElement("path",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:2,d:"M31.853 29.874V12.521H42.15v17.36h.048l4.051.002h13.357V40.18H46.256l-4.107-.003v18.675H31.853V40.17h-.1l-3.817-.002H14V29.87h13.933l3.836.003z"}))}const a=o.forwardRef(i)},17310:(e,t,n)=>{n.d(t,{A:()=>a});var o=n(9387);const r={small:16,medium:32,large:64};function i({title:e,titleId:t,size:n,...i},a){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 72 72",fill:"currentColor","aria-hidden":"true",ref:a,width:n?"string"==typeof n?r[n]:n:"16px","aria-labelledby":t},i),e?o.createElement("title",{id:t},e):null,o.createElement("circle",{cx:36.146,cy:36.428,r:22.543,fill:"#ea5a47"}),o.createElement("path",{fill:"#d22f27",d:"M52.524 20.931a22.544 22.544 0 01-36.242 26.145A22.542 22.542 0 1052.524 20.93z"}),o.createElement("path",{fill:"#f1b31c",d:"M52.794 22.755c7.674-.926 13.138-.024 14.191 2.849C68.825 30.622 56.51 39.754 39.478 46S7.146 53.242 5.306 48.224c-1.07-2.919 2.647-7.228 9.296-11.552l.076 1.553c-2.509 2.253-3.714 4.341-3.138 5.913 1.434 3.909 13.352 3.133 26.62-1.733S61.02 30.426 59.588 26.517c-.553-1.507-2.665-2.318-5.812-2.466z"}),o.createElement("g",{fill:"none",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2},o.createElement("path",{d:"M17.156 46.594a21.539 21.539 0 1138.77-18.688M57.677 37.164a21.555 21.555 0 01-34.892 16.164"}),o.createElement("path",{d:"M52.794 22.755c7.674-.926 13.138-.024 14.191 2.849C68.825 30.622 56.51 39.754 39.478 46S7.146 53.242 5.306 48.224c-1.07-2.919 2.647-7.228 9.296-11.552"}),o.createElement("path",{d:"M53.776 24.05c3.147.15 5.259.96 5.811 2.467 1.434 3.91-8.16 11.023-21.428 15.888s-25.185 5.642-26.619 1.733c-.576-1.572.63-3.66 3.138-5.913"})))}const a=o.forwardRef(i)}}]);